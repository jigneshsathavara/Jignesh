(window.webpackJsonp=window.webpackJsonp||[]).push([[316,19,442,631],{1274:function(e,t,n){var content=n(1393);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("01823088",content,!0,{sourceMap:!1})},1314:function(e,t,n){"use strict";var r=n(18),o=n(1315),l=n(237);r({target:"Array",proto:!0},{fill:o}),l("fill")},1316:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n(22),n(19),n(34),n(35),n(27),n(10),n(21);var r=n(8),o=n(11),l=(n(45),n(1604)),c=n.n(l),d={removeDoctype:!0,removeXMLProcInst:!0,removeComments:!0,removeMetadata:!0,removeXMLNS:!1,removeEditorsNSData:!0,cleanupAttrs:!1,inlineStyles:{onlyMatchedOnce:!1},minifyStyles:!0,convertStyleToAttrs:!0,cleanupIDs:!0,prefixIds:!1,removeRasterImages:!0,removeUselessDefs:!0,cleanupNumericValues:!0,cleanupListOfValues:!0,convertColors:!0,removeUnknownsAndDefaults:!0,removeNonInheritableGroupAttrs:!0,removeUselessStrokeAndFill:!0,removeViewBox:!1,cleanupEnableBackground:!1,removeHiddenElems:!1,removeEmptyText:!0,convertShapeToPath:!1,moveElemsAttrsToGroup:!1,moveGroupAttrsToElems:!1,collapseGroups:!0,convertPathData:!1,convertTransform:!0,removeEmptyAttrs:!0,removeEmptyContainers:!0,mergePaths:!0,removeUnusedNS:!0,sortAttrs:!0,removeTitle:!0,removeDesc:!0,removeDimensions:!0,removeAttrs:!1,removeElementsByAttr:!1,addClassesToSVGElement:!1,removeStyleElement:!0,removeScriptElement:!0,addAttributesToSVGElement:!1};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(content){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:{},n=c()(f(f({},d),t)),e.next=4,n.optimize(content);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1319:function(e,t,n){var content=n(1390);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("93982afc",content,!0,{sourceMap:!1})},1324:function(e,t,n){var content=n(1533);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("3c705890",content,!0,{sourceMap:!1})},1325:function(e,t,n){var content=n(1535);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("74f754d3",content,!0,{sourceMap:!1})},1326:function(e,t,n){var content=n(1537);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("014e93e0",content,!0,{sourceMap:!1})},1327:function(e,t,n){var content=n(1539);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("60b3c97e",content,!0,{sourceMap:!1})},1328:function(e,t,n){var content=n(1541);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("6851ea06",content,!0,{sourceMap:!1})},1329:function(e,t,n){var content=n(1543);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("325a6f37",content,!0,{sourceMap:!1})},1330:function(e,t,n){var content=n(1545);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("26fd61d2",content,!0,{sourceMap:!1})},1354:function(e,t,n){"use strict";t.a={data:function(){return{unsubscribe:null}},destroyed:function(){this.stopWatch()},methods:{startWatch:function(){var e=this;this.unsubscribe||(this.unsubscribe=this.$store.subscribe((function(t,n){"settings/setPaletteId"===t.type&&e.$nextTick((function(){e.onPaletteSelected(n)})),"brandPalettes/setAll"===t.type&&e.$nextTick((function(){e.onPalettesLoaded(n)}))})))},stopWatch:function(){this.unsubscribe&&this.unsubscribe(),this.unsubscribe=null},onPalettesLoaded:function(){},onPaletteSelected:function(){}}}},1360:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var r=n(8);n(22),n(19),n(49),n(67),n(627),n(1497),n(193),n(34),n(35),n(27),n(10),n(63),n(21);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=n(1373),c=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],i=0;i<e.length;i++){var o=l(e[i]).toHsl();o.h=Number(t),null!==n&&(o.s=Number(n)/100),r.push(l(o).toHexString())}return r},d=function(e,t){var n=e.map((function(e,t){return{hsl:l(e).toHsl(),index:t,isMostNearer:!1}})),r=t.map((function(e,t){return{hsl:l(e).toHsl(),index:t,fillColorIndexes:[]}}));return n.forEach((function(e,t){var n=f(r.map((function(e){return e.hsl})),e.hsl);r[n.index].fillColorIndexes.push({index:t,distance:n.distance})})),r.forEach((function(e){e.fillColorIndexes=e.fillColorIndexes.sort((function(a,b){return a.distance-b.distance})),e.fillColorIndexes.length&&(n[e.fillColorIndexes[0].index].isMostNearer=!0)})),r.filter((function(e){return!e.fillColorIndexes.length})).forEach((function(e){var t=n.filter((function(e){return!e.isMostNearer}));if(t.length){var o=f(t.map((function(e){return e.hex})),e.hex),l=t[o.index],c=n[l.index];r.filter((function(e){return e.fillColorIndexes.length})).forEach((function(e){e.fillColorIndexes.map((function(e){return e.index})).includes(c.index)&&(e.fillColorIndexes=e.fillColorIndexes.filter((function(e){return e.index!==c.index})))})),e.fillColorIndexes.push({index:c.index,distance:o.distance}),n[c.index].isMostNearer=!0}})),r.filter((function(e){return e.fillColorIndexes.length})).forEach((function(e){e.fillColorIndexes.forEach((function(t,o){n[t.index].hsl=0===o?e.hsl:h({paletteColors:r.map((function(e){return e.hsl})),paletteColor:e.hsl,fillColor:n[t.index].hsl})}))})),n.map((function(e){return l(e.hsl).toHexString()}))},h=function(e){var t=e.paletteColors,n=e.paletteColor,l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.fillColor);if(1===n.l){var c=t.filter((function(e){return!(0===e.l||1===e.l||0===e.s)}));if(c.length){var d=c[f(c,n).index];l.h=d.h}else l.s=0}else 0===n.s||0===n.l?l.s=0:l.h=n.h;return l},f=function(e,t){var n=e.map((function(e){return m({color1:t,color2:e})})),r=Math.min.apply(Math,n);return{distance:r,index:n.indexOf(r)}},m=function(e){var t=e.color1,n=e.color2,r=v(t),o=v(n);return Math.hypot(o.x-r.x,o.y-r.y,o.z-r.z)},v=function(e){var t=l(e).toRgb();return{x:t.r,y:t.g,z:t.b}}},1368:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCA5NiAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzY1NF80NikiPgo8cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9IiM0Mjg1RjQiLz4KPHJlY3QgeD0iMjQiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0iI0VBNDMzNSIvPgo8cmVjdCB4PSI0OCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRkJCQzA1Ii8+CjxyZWN0IHg9IjcyIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9IiMzNEE4NTMiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF82NTRfNDYiPgo8cmVjdCB3aWR0aD0iOTYiIGhlaWdodD0iMjQiIHJ4PSI0IiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="},1375:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["#00C6FF","#66CCFF","#52CC99","#FF6699","#FFBF66","#FF8066","#767FAD","#FFFFFF"]},1376:function(e,t,n){"use strict";n.r(t);n(193);var r={components:{Lottie:n(231).default},props:{width:{type:Number,default:null},height:{type:Number,default:null},observe:{type:Boolean,default:!0}}},o=n(1392),l=n(7);var component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.container},[t("lottie",e._b({attrs:{width:e.width,height:e.height,observe:e.observe,"animation-name":"Loader",loop:""}},"lottie",e.$attrs,!1))],1)}),[],!1,(function(e){this.$style=o.default.locals||o.default}),null,null);t.default=component.exports},1387:function(e,t,n){"use strict";n(42),n(79);var r={props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hasClickAction:{type:Boolean,default:!1}},data:function(){return{checked:this.value}},watch:{value:function(e){this.checked=e}},methods:{onChange:function(e){this.disabled||this.$emit("input",this.checked)}}},o=(n(1389),n(7)),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"toggleSwitch"},[t("label",{class:{toggleChecked:e.checked,disabled:e.disabled,"has-click-action":e.hasClickAction}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox",disabled:e.disabled},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:[function(t){var n=e.checked,r=t.target,o=!!r.checked;if(Array.isArray(n)){var l=e._i(n,null);r.checked?l<0&&(e.checked=n.concat([null])):l>-1&&(e.checked=n.slice(0,l).concat(n.slice(l+1)))}else e.checked=o},e.onChange]}})])])}),[],!1,null,null,null);t.a=component.exports},1388:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(42);var r=function(e,t){return"tour-".concat(e,"-").concat(t)}},1389:function(e,t,n){"use strict";n(1319)},1390:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,".toggleSwitch label{display:block;position:relative;margin:0;cursor:pointer}.toggleSwitch label input[type='checkbox']{position:absolute;width:1px;height:1px;top:-100px;left:-100px}.toggleSwitch label:before{display:block;content:'' !important;width:36px;height:20px;background:#B4BAD6;border-radius:15px;border:none;margin:0;transition:0.22s background}.toggleSwitch label:after{content:'' !important;display:block;width:16px;height:16px;border-radius:15px;position:absolute;top:2px;left:2px;box-shadow:0 0 8px #8F95B3;background:#fff;transition:0.22s margin-left}.toggleSwitch label.toggleChecked:before{background:#24A8AF}.toggleSwitch label.toggleChecked:after{background:white;margin-left:calc(100% - 20px)}.toggleSwitch label:focus-within::before{box-shadow:0 0 0 4px rgba(180,186,214,0.4)}.toggleSwitch label:focus-within.toggleChecked::before{box-shadow:0 0 0 4px rgba(36,168,175,0.4)}.toggleSwitch label.disabled:not(.has-click-action){cursor:default;opacity:0.5}\n",""]),r.locals={},e.exports=r},1392:function(e,t,n){"use strict";var r=n(1274),o=n.n(r);n.d(t,"default",(function(){return o.a}))},1393:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,".container_V42UB{position:absolute;top:0;left:0;z-index:100;width:100%;height:100%;display:flex;align-items:center;justify-content:center}\n",""]),r.locals={container:"container_V42UB"},e.exports=r},1395:function(e,t,n){e.exports=n.p+"img/watermark.aec39ca.svg"},1398:function(e,t,n){e.exports=n.p+"img/plus-picker.01c5e9f.png"},1453:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Editor",(function(){return D}));var r=n(75),o=n(76),l=(n(1314),n(160),n(67),n(10),n(30),n(64),n(46),n(311),n(21),n(1510)),c=n(1607),d=n.n(c),h=n(1608),f=n.n(h),m=n(414),v=n.n(m),w=n(81),y=n.n(w),_=n(1360),x=n(1316),P=n(1373),k="data-name",C="fill",$="stop-color",O="fill",j="stroke",B="svgShape",I=["use","g","path","polyline","polygon","circle","rect","circle","ellipse"],S=["use","line","g","path","polygon","circle","rect","circle","ellipse"],L=["stop"],D=function(){return Object(o.a)((function e(t){var n=this,o=t.originalContent;Object(r.a)(this,e),this.originalContent=null,this.colors=[],this.$=null,this.apply={fillShapeColor:function(e,t){n.$.find("."+M(e)).fill(t)},fillStrokeColor:function(e,t){n.$.find("."+F(e)).stroke(t)},fillStopColorColor:function(e,t){var r;n.$.find("."+z(e)).attr(((r={})[$]=t,r))}},this.originalContent=o}),[{key:"init",value:function(){var e=this;return new Promise((function(t){try{var n=Object(l.a)(e.originalContent),r=[];n.each((function(){var data=this.attr(k);data&&this.attr(k,f()(data))}));var o=function(element){for(var e=element.parent();e&&e.node;){if("svg"===e.node.nodeName.toLowerCase())return!1;if("mask"===e.node.nodeName.toLowerCase())return!0;e=e.parent()}if(!e||!e.node)return!1};n.find(I).each((function(){var e=!1,t=null;if(!o(this)){var l=this.attr("id");if(l&&"use"!==this.type){var c=n.find("use");v()(c,(function(use){"#".concat(l)!==use.attr("xlink:href")||!use.attr(C)||"#000000"===use.attr(C).trim()&&"#000"===use.attr(C).trim()||(e=!0)}))}if(e||(l&&("g"===this.type||"use"===this.type)&&this.attr(C)||this.attr(C)&&"#000000"!==this.attr(C).trim()?t=this.attr(C):this.css(O)?t=this.css(O):this.attr(j)&&"#000000"!==this.attr(j).trim()||(t="#000")),d()(t)){t=P(t).toHexString(),this.css(O,null),this.style(O,null),this.attr(C,t);var h=M(t);this.addClass(h),this.addClass(B),-1===y()(r,{originalHex:t})&&r.push({hex:t,lastHex:t,originalHex:t,className:h,element:"Shape"})}}}),!0),n.find(S).each((function(){var e=!1,t=null;if(!o(this)){var l=this.attr("id");if(l&&"use"!==this.type){var c=n.find("use");v()(c,(function(use){"#".concat(l)!==use.attr("xlink:href")||!use.attr(j)||"#000000"===use.attr(j).trim()&&"#000"===use.attr(j).trim()||(e=!0)}))}if(!e&&((l&&("g"===this.type||"use"===this.type)&&this.attr(j)||this.attr(j)&&"#000000"!==this.attr(j).trim())&&(t=this.attr(j)),d()(t))){t=P(t).toHexString();var h=F(t);this.addClass(h),this.addClass("svgStroke"),-1===y()(r,{originalHex:t,element:"Stroke"})&&r.push({hex:t,lastHex:t,originalHex:t,className:h,element:"Stroke"})}}})),n.find(L).each((function(){var e=null;if(e=this.attr($),d()(e)){e=P(e).toHexString(),this.css(O,null),this.attr($,e);var t=z(e);this.addClass(t),this.addClass(B),-1===y()(r,{originalHex:e,element:"StopColor"})&&r.push({hex:e,lastHex:e,originalHex:e,className:t,element:"StopColor"})}})),e.colors=r,e.$=n,t()}catch(t){console.error(t),e.$sentry.captureException(t)}}))}},{key:"getBrandSvg",value:function(t){var n=this,r=t.palette,o=t.getBase64,l=void 0!==o&&o,c=t.processSvgPluginOptions,d=void 0===c?{}:c;return new Promise((function(t,o){var c=Object(_.b)(n.colors.map((function(e){return e.originalHex})),r);n.colors.forEach((function(e,t){n.apply["fill".concat(e.element,"Color")](n.colors[t].originalHex,c[t]),n.colors[t].hex=c[t],n.colors[t].lastHex=c[t]}));var h=n.$.svg();l?t("data:image/svg+xml;base64,".concat(e.from(h).toString("base64"))):Object(x.a)(h,d).then((function(svg){t(svg)})).catch((function(e){console.error("This file is not supported.",e),n.$sentry.captureException(e)}))}))}}])}(),M=function(e){return"color"+e.replace(/[\W+]/g,"")},F=function(e){return"colorStroke"+e.replace(/[\W+]/g,"")},z=function(e){return"stopColor"+e.replace(/[\W+]/g,"")}}.call(this,n(630).Buffer)},1469:function(e,t,n){"use strict"},1489:function(e,t,n){"use strict";var r=n(8),o=(n(29),n(22),n(19),n(34),n(35),n(27),n(10),n(48),n(21),n(54),n(1250)),l=n(62),c=(n(42),n(11)),d=(n(45),n(49),n(63),n(1255)),h=n(242),f=n(1388),m=n(38),v=(n(193),n(311),n(43)),w=(n(196),n(2258)),y=n(2259),_=n(1248),x=n(1375),P="#87ddfd",k={components:{UilTrashAlt:w.a,UilPen:y.a,UilTimes:_.a,IconscoutColorPicker:function(){return Promise.all([n.e(5),n.e(55)]).then(n.bind(null,5678))}},props:{view:{type:String,default:"home"},palette:{type:Object,default:function(){return{}}}},data:function(){return{id:null,name:null,colors:[],showNameEditInput:!1,selectedColorIndex:-1,defaultColors:x.a,pickerColor:P}},computed:{showColorPicker:function(){return this.selectedColorIndex>-1},hasAnyChange:function(){var e=this;return this.palette&&(this.name!==this.palette.name||this.colors.length!==this.palette.colors.length||this.colors.length===this.palette.colors.length&&this.colors.filter((function(t,n){return t!==e.palette.colors[n]})).length)}},watch:{"palette.id":function(e){this.id=e}},created:function(){this.id=this.palette.id,this.name=this.palette.name,this.colors=Object(v.a)(this.palette.colors),this.id?(this.selectedColorIndex=0,this.pickerColor=this.colors[this.selectedColorIndex],this.focusAndSelectHexInput()):(this.pickerColor=P,this.colors.push(this.pickerColor),this.selectedColorIndex=0,this.focusAndSelectHexInput())},methods:{enableNameEditing:function(){var e=this;this.showNameEditInput=!0,this.$nextTick((function(){e.$refs.nameEditInput&&(e.$refs.nameEditInput.focus(),e.$refs.nameEditInput.select())}))},onBlurNameInput:function(){this.showNameEditInput=!1,this.name||(this.name=this.palette.name||"Untitled")},onSelectColor:function(e){this.selectedColorIndex=e,this.pickerColor=this.selectedColorIndex>-1?this.colors[this.selectedColorIndex]:P,this.focusAndSelectHexInput()},onChangePickerColor:function(e){this.pickerColor=e.hex;var t=Object(v.a)(this.colors);t.splice(this.selectedColorIndex,1,e.hex),this.colors=t},onAddNewColor:function(){this.pickerColor=P,this.colors.push(this.pickerColor),this.selectedColorIndex=this.colors.length-1,this.focusAndSelectHexInput()},onSave:function(){this.$emit("save",{id:this.id,name:this.name,colors:this.colors})},onRemoveColor:function(e){1!==this.colors.length&&(e>this.selectedColorIndex||this.selectedColorIndex--,this.remove(e),this.pickerColor=this.colors[this.selectedColorIndex])},remove:function(e){this.colors=this.colors.filter((function(t,i){return e!==i}))},focusAndSelectHexInput:function(){var e=this;this.$nextTick((function(){e.$refs.picker&&e.$refs.picker.focusHexInput()}))}}},C=n(1532),$=n(7);var component=Object($.a)(k,(function(){var e=this,t=e._self._c;return t("div",[t("div",{class:["mb-3",e.$style.container]},[t("div",{class:["d-flex justify-content-between align-items-center py-1 px-3",e.$style.cardHeader]},[e.showNameEditInput?t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],ref:"nameEditInput",class:["border-0 caption font-weight-bold px-0",e.$style.input],attrs:{type:"text",autofocus:""},domProps:{value:e.name},on:{blur:[e.onBlurNameInput,function(t){return e.$forceUpdate()}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.nameEditInput.blur()},input:function(t){t.target.composing||(e.name=t.target.value.trim())}}}):t("a",{staticClass:"d-flex align-items-center text-truncate w-50 no-hover text-secondary",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.enableNameEditing.apply(null,arguments)}}},[t("div",{staticClass:"caption mr-2 text-truncate mw-100 font-weight-bold"},[e._v("\n          "+e._s(e.name)+"\n        ")]),e._v(" "),t("uil-pen",{attrs:{size:"14"}})],1),e._v(" "),t("div",["edit"===e.view?t("a",{staticClass:"text-danger",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("removePalette")}}},[t("uil-trash-alt",{attrs:{size:"14"}})],1):e._e()])]),e._v(" "),t("div",{class:["d-flex flex-wrap align-items-center p-3",e.$style.colorWrapper]},[t("div",{staticClass:"d-inline-flex flex-wrap"},e._l(e.colors,(function(n,r){return t("div",{key:r+n,class:e.$style.colors,style:{backgroundColor:n}},[t("a",{class:[e.$style.color,e.selectedColorIndex===r?e.$style.active:null],attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onSelectColor(r)}}}),e._v(" "),r||e.colors.length>1?t("a",{class:["text-danger",e.$style.remove],attrs:{id:"remove-palette-color-".concat(e.id,"-").concat(r),href:"#"},on:{click:function(t){return t.preventDefault(),e.onRemoveColor(r)}}},[t("uil-times",{attrs:{size:"12"}})],1):e._e()])})),0),e._v(" "),t("div",{staticClass:"ml-2",attrs:{id:"brand-palette-add-color-icon"},on:{click:e.onAddNewColor}},[t("img",{staticClass:"d-block",attrs:{src:n(1398),alt:"Add new color",width:"24",height:"24"}})])])]),e._v(" "),e.showColorPicker?t("div",{class:e.$style.colorPicker},[t("iconscout-color-picker",{ref:"picker",attrs:{"disable-alpha":!0,"disable-toggle":!0,"default-palette":e.defaultColors,value:e.pickerColor},on:{input:e.onChangePickerColor,copied:function(t){return e.$emit("copied")}}}),e._v(" "),t("button",{staticClass:"btn btn-block btn-primary mt-3 btn-sm",attrs:{id:"brand-palette-add-color-button",type:"button",disabled:!e.hasAnyChange},on:{click:e.onSave}},[e._v("\n      Save Color Palette\n    ")])],1):e._e()])}),[],!1,(function(e){this.$style=C.default.locals||C.default}),null,null),O={components:{BrandPalette:component.exports},mixins:[l.a],props:{view:{type:String,default:"home"},editingPaletteId:{type:[Number,String],default:null}},computed:{palette:function(){return"add"===this.view?{name:"Untitled",colors:[]}:this.$store.state.brandPalettes.palettes&&this.$store.getters["brandPalettes/getPaletteById"](this.editingPaletteId)||null}}},j=n(1534);var B=Object($.a)(O,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.container},[t("brand-palette",{attrs:{view:e.view,palette:e.palette},on:{removePalette:function(t){return e.$emit("removePalette",{palette:e.palette,data:{view:e.view}})},copied:function(t){return e.$emit("copied",{view:e.view})},save:function(t){return e.$emit("save",t)}}})],1)}),[],!1,(function(e){this.$style=j.default.locals||j.default}),null,null).exports,I=n(1656),S={components:{ToggleSwitch:n(1387).a,UilArrowLeft:I.a},props:{view:{type:String,default:"home"},brandClient:{type:String,default:null}},computed:{autoApply:{get:function(){return this.$store.getters["brandPalettes/isAutoApplyEnable"]},set:function(e){this.$store.dispatch("brandPalettes/toggleAutoApply"),this.$analytics.track("brand-panel",{route_path:this.$route.path,route_name:this.$route.name,location:this.brandClient,action:"toggle-auto-play",data:{autoApply:e}})}}}},L=n(1536);var D=Object($.a)(S,(function(){var e=this,t=e._self._c;return t("div",{class:["mb-2-5 caption d-flex justify-content-between align-items-center",e.$style.ddHeader]},[t("div",{staticClass:"d-flex align-items-center"},["home"!==e.view?t("button",{staticClass:"mr-2 p-0 border-0 bg-transparent d-flex justify-content-between align-items-center outline-none",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("back")}}},[t("uil-arrow-left",{attrs:{size:"24"}})],1):e._e(),e._v(" "),t("span",{staticClass:"font-size-sm font-weight-semibold"},[e._v(e._s(e.$t("common.color_palette")))])]),e._v(" "),"home"===e.view?t("div",{staticClass:"d-flex justify-content-center align-items-center"},[t("strong",{staticClass:"font-size-sm font-weight-semi-bold mr-2"},[e._v("\n      "+e._s(e.$t("common.auto_apply"))+"\n    ")]),e._v(" "),t("toggle-switch",{model:{value:e.autoApply,callback:function(t){e.autoApply=t},expression:"autoApply"}})],1):e._e()])}),[],!1,(function(e){this.$style=L.default.locals||L.default}),null,null).exports,M=n(2625),F=n(1237),z=n(2722),W=n(2655),E=n(2624),A={components:{UilPlusCircle:W.a,UilRedo:E.a},computed:{selectedPalette:function(){return this.$store.getters["brandPalettes/selectedPalette"]}}},T=n(1538);var R=Object($.a)(A,(function(){var e=this,t=e._self._c;return t("div",{class:["d-flex",e.$style.actionsContainer]},[t("a",{staticClass:"btn btn-block btn-primary has-icon btn-sm",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("add")}}},[t("uil-plus-circle",{staticClass:"mr-2-5"}),e._v(" "),t("span",[e._v(e._s(e.selectedPalette?"New":"New Palette"))])],1),e._v(" "),e.selectedPalette?t("a",{staticClass:"btn btn-primary btn-block has-icon btn-sm ml-3",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("reset")}}},[t("uil-redo",{staticClass:"mr-2-5"}),e._v(" "),t("span",[e._v("Reset")])],1):e._e()])}),[],!1,(function(e){this.$style=T.default.locals||T.default}),null,null).exports,V={components:{BDropdown:F.a,BDropdownItem:z.a,UisEllipsisV:M.a,UilPen:y.a,UilTrashAlt:w.a,Actions:R},computed:{brandPalettes:function(){return this.$store.state.brandPalettes.palettes},selectedPalette:function(){return this.$store.getters["brandPalettes/selectedPalette"]}}},H=n(1540);var U=Object($.a)(V,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.container},[t("actions",{staticClass:"mb-2-5",on:{add:function(t){return e.$emit("add")},reset:function(t){return e.$emit("reset",{view:"home",by:"cta"})}}}),e._v(" "),t("div",{class:e.$style.palettes},e._l(e.brandPalettes,(function(n){return t("div",{key:n.id,staticClass:"d-flex align-items-center mb-2-5"},[t("a",{staticClass:"d-flex align-items-center w-100",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$emit("apply",n.id)}}},[t("div",{class:["d-flex",e.$style.colors,e.selectedPalette&&e.selectedPalette.id===n.id?e.$style.active:null]},e._l(n.colors,(function(r,o){return t("div",{key:"".concat(n.id,"-").concat(o,"-").concat(r),class:e.$style.color,style:{backgroundColor:r}})})),0)]),e._v(" "),n.is_default?e._e():t("b-dropdown",{staticClass:"p-0",attrs:{"toggle-class":"customDropdown ml-2",variant:"default","no-caret":"",right:"",lazy:""}},[t("template",{slot:"button-content"},[t("uis-ellipsis-v",{attrs:{size:"16"}})],1),e._v(" "),t("b-dropdown-item",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("edit",n)}}},[t("uil-pen"),e._v(" "),t("span",{staticClass:"ml-2-5"},[e._v("Edit")])],1),e._v(" "),t("b-dropdown-item",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("removePalette",{palette:n,data:{view:"home"}})}}},[t("uil-trash-alt"),e._v(" "),t("span",{staticClass:"ml-2-5"},[e._v("Delete")])],1)],2)],1)})),0)],1)}),[],!1,(function(e){this.$style=H.default.locals||H.default}),null,null).exports;function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X={components:{UilAngleDown:o.a,UilPlus:d.a,PanelHeader:D,HomeView:U,EditAddView:B},mixins:[l.a,h.a],props:{params:{type:Object,default:function(){}},brandClient:{type:String,default:null},position:{type:String,default:"top"},btnClass:{type:String,default:""},menuClass:{type:String,default:""},caret:{type:Boolean,default:!0},reduced:{type:Boolean,default:!1}},data:function(){return{showPanel:!1,view:"home",editingPaletteId:null}},computed:{brandPalettes:function(){return this.$store.state.brandPalettes.palettes},selectedPalette:function(){return this.$store.getters["brandPalettes/selectedPalette"]},isTourActive:function(){return!this.$store.state.settings.finishedTours.includes("tour_plp-brand-palette")}},watch:{isTourActive:function(e){e||(this.$nuxt.$off("open-brand-panel"),this.$nuxt.$off("close-brand-panel"),this.showPanel&&(this.listenForClickOut=!0))}},mounted:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.addEventListener("keydown",e.onKeyDown),t.next=3,e.$store.dispatch("brandPalettes/fetch");case 3:e.isTourActive&&(e.$nuxt.$on("open-brand-panel",(function(){e.showPanel=!0,e.trackPanel("show"),e.$nextTick((function(){e.$nuxt.$emit("plp-brand-palette-step-2")}))})),e.$nuxt.$on("close-brand-panel",(function(){e.showPanel=!1,e.trackPanel("hide"),e.$nextTick((function(){e.$nuxt.$emit("prev-step")}))})));case 4:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){window.removeEventListener("keydown",this.onKeyDown)},methods:{getTourStepId:f.a,onKeyDown:function(e){this.showPanel&&"Escape"===e.key&&(this.showPanel=!1)},onAddCta:function(){this.handleAuth()&&(this.editingPaletteId=null,this.view="add",this.$analytics.track("brand-panel",{route_path:this.$route.path,route_name:this.$route.name,location:this.brandClient,route:this.$route.name,action:"add-cta"}))},onBack:function(){this.view="home",this.$analytics.track("brand-panel",{route_path:this.$route.path,route_name:this.$route.name,location:this.brandClient,action:"back-cta"})},trackPanel:function(e){this.$analytics.track("brand-panel",{route_path:this.$route.path,route_name:this.$route.name,location:this.brandClient,route:this.$route.name,action:e})},onToggleCta:function(){var e=this;this.showPanel=!this.showPanel,this.listenForClickOut=!0,this.$analytics.track("brand-panel",{route_path:this.$route.path,route_name:this.$route.name,location:this.brandClient,route:this.$route.name,action:"my-color-cta-".concat(this.showPanel?"show":"hide")}),this.$nextTick((function(){e.isTourActive&&e.showPanel&&(e.$nuxt.$emit("plp-brand-palette-step-2"),e.listenForClickOut=!1)}))},onApply:function(e,t){var view=t.view;this.$store.state.brandPalettes.isLoading||(this.selectedPalette&&this.selectedPalette.id===e?this.onReset({view:view,by:"palette"}):(this.$store.dispatch("brandPalettes/setSelected",e),this.$analytics.track("brand-panel",{route_path:this.$route.path,route_name:this.$route.name,location:this.brandClient,action:"palette-apply",data:{palette_id:e,view:view}})),this.isTourActive&&this.$nuxt.$emit("plp-brand-palette-step-3"))},onReset:function(data){this.$store.dispatch("brandPalettes/setSelected",null),this.$analytics.track("brand-panel",{route_path:this.$route.path,route_name:this.$route.name,location:this.brandClient,route:this.$route.name,action:"palette-reset",data:data})},onEdit:function(e){this.editingPaletteId=e.id,this.view="edit",this.$analytics.track("brand-panel",{route_path:this.$route.path,route_name:this.$route.name,location:this.brandClient,route:this.$route.name,action:"edit-cta"})},onSave:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r,o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.id){n.next=7;break}t.$store.commit("brandPalettes/update",{id:e.id,data:e}),t.selectedPalette&&t.selectedPalette.id===e.id&&t.$store.dispatch("brandPalettes/setSelected",e.id),t.view="home",t.saveInBackend(e),n.next=25;break;case 7:return n.prev=7,r=J(J({},e),{},{id:"temp-".concat(Math.floor(1e3+9e3*Math.random()))}),t.$store.commit("brandPalettes/add",r),t.editingPaletteId=r.id,t.view="home",o=Object(m.c)("/api/v2/brand-palettes"),n.next=15,t.$axios.post(o,{name:r.name,colors:r.colors});case 15:l=n.sent,t.$store.commit("brandPalettes/update",{id:r.id,data:{id:l.data.response.brand_palette.id}}),t.editingPaletteId=l.data.response.brand_palette.id,t.$analytics.track("brand-panel",{route_path:t.$route.path,route_name:t.$route.name,location:t.brandClient,action:"palette-created"}),t.$store.dispatch("brandPalettes/fetch"),n.next=25;break;case 22:n.prev=22,n.t0=n.catch(7),t.onError(n.t0);case 25:case"end":return n.stop()}}),n,null,[[7,22]])})))()},saveInBackend:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=Object(m.c)("/api/v2/brand-palettes/{id}",{id:e.id}),n.next=4,t.$axios.patch(r,{name:e.name,colors:e.colors});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.onError(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},onRemovePalette:function(e){var t,r=this,o=e.palette,data=e.data,l=e.message,d=void 0===l?null:l;this.$modal.open({id:"modalConfirmRemovePalette",component:Promise.all([n.e(0),n.e(29)]).then(n.bind(null,5854)),props:{id:"modalConfirmRemovePalette",title:"Remove Palette",message:d||"Are you sure to remove ".concat(o.name," palette?")},options:{modalOnModal:!0},on:{ok:(t=Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.$store.dispatch("brandPalettes/remove",{id:o.id}),r.view="home",e.next=5,r.$axios.delete(Object(m.c)("/api/v2/brand-palettes/{id}",{id:o.id}));case 5:r.$analytics.track("brand-panel",{route_path:r.$route.path,route_name:r.$route.name,location:r.brandClient,action:"palette-removed",data:data}),r.brandPalettes.length||(r.$store.dispatch("brandPalettes/reset"),r.$store.dispatch("brandPalettes/fetch")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r.onError(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(){return t.apply(this,arguments)})}})},onCopied:function(data){this.$analytics.track("brand-panel",{route_path:this.$route.path,route_name:this.$route.name,location:this.brandClient,route:this.$route.name,action:"color-copied-from-picker",data:data})},clickOutHandler:function(e){if(this.showPanel&&e){var path=e.path||e.composedPath&&e.composedPath();if(path){for(var t=0;t<path.length;t++){var element=path[t];if(element.id&&(["brand-palette-add-color-button","brand-palette-add-color-icon","modalConfirmRemovePalette","brand-palette-add-palette-button"].includes(element.id)||element.id.includes("remove-palette-color-")))return}this.showPanel=!1}}},onError:function(e){console.error(e);var title=e.response&&e.response.data&&e.response.data.message;title=e.message||"Oops, Something went wrong!",this.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"})}}},Z=X,G=n(1542);var K={components:{NewVariant:Object($.a)(Z,(function(){var e=this,t=e._self._c;return t("div",[t("button",{class:["btn btn-default has-icon btn-block justify-content-between ".concat(e.btnClass),e.reduced?e.$style.reducedFixedWidth:e.$style.fixedWidth,e.$style.customPadding],attrs:{id:e.getTourStepId("plp-brand-palette",1),type:"button"},on:{click:e.onToggleCta}},[e.selectedPalette?[t("div",{class:[e.$style.colors,e.$style.btnSelectedPalette]},e._l(e.selectedPalette.colors,(function(n,r){return t("div",{key:"selected-".concat(r,"-").concat(n),class:e.$style.btnColor,style:{backgroundColor:n,width:"".concat(96/e.selectedPalette.colors.length,"px")}})})),0)]:t("div",{staticClass:"d-inline-flex align-items-center"},[t("img",{attrs:{src:n(1368),alt:e.$t("common.color_palette"),width:"96",height:"30"}})]),e._v(" "),e.caret?t("uil-angle-down",{staticClass:"ml-2-5"}):e._e()],2),e._v(" "),e.showPanel?t("div",{staticClass:"color-palette show",attrs:{id:e.getTourStepId("plp-brand-palette",2)}},[t("div",{attrs:{id:e.getTourStepId("plp-brand-palette",3)}},[e.brandPalettes.length||"add"===e.view?t("div",{class:[e.$style.menu,"bottom"===e.position?[e.$style.bottom,"bottom"]:null,"".concat(e.menuClass)]},[t("panel-header",{attrs:{view:e.view},on:{back:e.onBack}}),e._v(" "),t("div",{staticClass:"px-3"},["home"===e.view?t("home-view",{attrs:{"brand-client":e.brandClient},on:{add:e.onAddCta,edit:e.onEdit,removePalette:e.onRemovePalette,apply:function(t){return e.onApply(t,{view:"home"})},reset:e.onReset}}):t("edit-add-view",{attrs:{view:e.view,"editing-palette-id":e.editingPaletteId},on:{removePalette:e.onRemovePalette,copied:e.onCopied,save:e.onSave}})],1)],1):t("div",{class:["p-4",e.$style.menu]},[t("div",{staticClass:"mb-4 text-center"},[e._v("No Color Palettes Exist")]),e._v(" "),t("button",{staticClass:"btn btn-primary btn-block has-icon btn-sm",attrs:{id:"brand-palette-add-palette-button",type:"button"},on:{click:e.onAddCta}},[t("uil-plus",{staticClass:"mr-2-5"}),e._v(" "),t("span",[e._v("Add New Palette")])],1)])])]):e._e()])}),[],!1,(function(e){this.$style=G.default.locals||G.default}),null,null).exports},props:{params:{type:Object,default:function(){}},brandClient:{type:String,default:null},position:{type:String,default:"top"},btnClass:{type:String,default:""},menuClass:{type:String,default:""},caret:{type:Boolean,default:!0},reduced:{type:Boolean,default:!0}}},Y=Object($.a)(K,(function(){var e=this,t=e._self._c;return t("div",[t("new-variant",e._b({},"new-variant",e.$props,!1))],1)}),[],!1,null,null,null).exports;function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={components:{UilAngleDown:o.a,BrandPanel:Y},mixins:[l.a],props:{params:{type:Object,default:function(){}},brandClient:{type:String,default:null},position:{type:String,default:"top"},tooltipPosition:{type:String,default:"down"},btnClass:{type:String,default:""},menuClass:{type:String,default:""},caret:{type:Boolean,default:!0},guestCanAccess:{type:Boolean,default:!1},reduced:{type:Boolean,default:!1}},created:function(){this.$store.commit("brandPalettes/setActiveBrandClient",this.brandClient)},destroyed:function(){this.$store.commit("brandPalettes/unsetActiveBrandClient",null)},methods:{openSubscribeModal:function(){var e=this;this.handleAuth({trackAuth:function(){e.$analytics.track("brand-panel",{route_name:e.$route.name,route_path:e.$route.path,location:e.brandClient,action:"brand-panel-button",data:{postAction:"auth"}})}})&&this.$modal.open({id:"modalSubscribeFeatures",component:Promise.all([n.e(0),n.e(41)]).then(n.bind(null,3882)),options:{modalOnModal:!0},props:{trackingObj:{event:"brand-panel",data:ee(ee({route_path:this.$route.path,route_name:this.$route.name,location:this.brandClient,action:"pricing"},this.params),{},{data:{from:"my-colors"}})}}})}}},ne=n(1544);var re=Object($.a)(te,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.container},[e.isLoggedIn||e.guestCanAccess?t("client-only",[t("brand-panel",{attrs:{params:e.params,"brand-client":e.brandClient,position:e.position,"btn-class":e.btnClass,"menu-class":e.menuClass,caret:e.caret,reduced:""}})],1):t("button",{class:["btn btn-default has-icon btn-block justify-content-between ".concat(e.btnClass),e.$style.customPadding,e.reduced?e.$style.reducedFixedWidth:e.$style.fixedWidth],attrs:{"data-balloon":e.$t("common.login_to_apply_color_palette"),"data-balloon-pos":e.tooltipPosition,"data-balloon-length":"medium",type:"button"},on:{click:e.openSubscribeModal}},[t("div",{staticClass:"d-inline-flex align-items-center"},[t("img",{attrs:{src:n(1368),alt:e.$t("common.color_palette"),width:"96",height:"30"}})]),e._v(" "),e.caret?t("uil-angle-down",{staticClass:"ml-2-5"}):e._e()],1)],1)}),[],!1,(function(e){this.$style=ne.default.locals||ne.default}),null,null);t.a=re.exports},1498:function(e,t,n){e.exports=n.p+"img/featured.80c46c1.svg"},1499:function(e,t,n){"use strict";n(193),n(10),n(48),n(54),n(239),n(240),n(197);var r={props:{canvasRef:{type:String,required:!0},canvasWidth:{type:Number,required:!0},canvasHeight:{type:Number,required:!0},preview:{type:String,required:!0}},watch:{preview:function(e){e&&this.renderSVGToCanvas()}},mounted:function(){this.$el.addEventListener("contextmenu",(function(e){e.preventDefault()})),this.preview&&this.renderSVGToCanvas()},methods:{renderSVGToCanvas:function(){var canvas=this.$refs[this.canvasRef],e=canvas.getContext("2d"),t=window.devicePixelRatio||1;canvas.width=this.canvasWidth*t,canvas.height=this.canvasHeight*t,canvas.style.width="".concat(this.canvasWidth,"px"),canvas.style.height="".concat(this.canvasHeight,"px"),e.setTransform(1,0,0,1,0,0),e.scale(t,t);var n=new Blob([this.preview],{type:"image/svg+xml"}),r=URL.createObjectURL(n),o=(new DOMParser).parseFromString(this.preview,"text/xml").childNodes[0].viewBox.baseVal,l=o.width,c=o.height,d=this.canvasWidth/l,h=this.canvasHeight/c,f=Math.min(d,h),m=(this.canvasWidth-l*f)/2,v=(this.canvasHeight-c*f)/2,img=new Image;img.onload=function(){e.drawImage(img,m,v,l*f,c*f),URL.revokeObjectURL(r)},img.src=r}}},o=n(7),component=Object(o.a)(r,(function(){var e=this;return(0,e._self._c)("canvas",{ref:e.canvasRef,attrs:{id:e.canvasRef,width:e.canvasWidth,height:e.canvasHeight}})}),[],!1,null,null,null);t.a=component.exports},1532:function(e,t,n){"use strict";var r=n(1324),o=n.n(r);n.d(t,"default",(function(){return o.a}))},1533:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,".container_kJEOT{background:#fff;border:1px solid #EBEDF5;border-radius:4px}.container_kJEOT .colorWrapper_gJMjy{margin:-4px}.container_kJEOT .colorWrapper_gJMjy .colors_hwDOV{height:24px;width:24px;border-radius:12px;margin:.25rem;border:2px solid rgba(0,0,0,0.1);position:relative}.container_kJEOT .colorWrapper_gJMjy .colors_hwDOV .color_Vch3C{position:absolute;width:100%;height:100%;top:0;left:0;z-index:5}.container_kJEOT .colorWrapper_gJMjy .colors_hwDOV .color_Vch3C:after{content:'';width:1.875rem;height:1.875rem;border:2px solid transparent;position:absolute;left:-5px;top:-5px;transition:all 0.3s ease;border-radius:50%}.container_kJEOT .colorWrapper_gJMjy .colors_hwDOV .color_Vch3C.active_S4N-W:after{border-color:#18a0fb}.container_kJEOT .colorWrapper_gJMjy .colors_hwDOV .remove_LFSOO{visibility:hidden;position:absolute;right:-8px;top:-8px;background:#fff;border-radius:50%;display:flex;justify-content:center;z-index:8;align-items:center;width:16px;height:16px;border:1px solid rgba(0,0,0,0.2)}.container_kJEOT .colorWrapper_gJMjy .colors_hwDOV:hover{border:2px solid rgba(0,0,0,0.3)}.container_kJEOT .colorWrapper_gJMjy .colors_hwDOV:hover .remove_LFSOO{visibility:visible}.container_kJEOT .cardHeader_vQKAF{background:#F5F6FA;border-bottom:1px solid #EBEDF5;border-radius:4px 4px 0 0}.container_kJEOT .cardHeader_vQKAF .input_iGh77{outline:none !important;background:#F5F6FA;color:#596080}.colorPicker_zMeoe{margin-bottom:.75rem}.colorPicker_zMeoe>div{width:100%}.colorPicker_zMeoe>button{border-radius:8px}\n",""]),r.locals={container:"container_kJEOT",colorWrapper:"colorWrapper_gJMjy",colors:"colors_hwDOV",color:"color_Vch3C",active:"active_S4N-W",remove:"remove_LFSOO",cardHeader:"cardHeader_vQKAF",input:"input_iGh77",colorPicker:"colorPicker_zMeoe"},e.exports=r},1534:function(e,t,n){"use strict";var r=n(1325),o=n.n(r);n.d(t,"default",(function(){return o.a}))},1535:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,".container_Puo19 .label_YjTvu{color:#8F95B3;text-transform:uppercase;letter-spacing:0.05em;font-weight:500;font-size:11px}.container_Puo19 .badge_vUnz9{font-size:10px}.container_Puo19 .btnGray_X-ZMc{color:#424866}\n",""]),r.locals={container:"container_Puo19",label:"label_YjTvu",badge:"badge_vUnz9",btnGray:"btnGray_X-ZMc"},e.exports=r},1536:function(e,t,n){"use strict";var r=n(1326),o=n.n(r);n.d(t,"default",(function(){return o.a}))},1537:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,".ddHeader_Hp91L{position:sticky;top:0;z-index:1000;background:#F5F6FA;padding:.5625rem .75rem}.ddHeader_Hp91L button{cursor:pointer;outline:none}\n",""]),r.locals={ddHeader:"ddHeader_Hp91L"},e.exports=r},1538:function(e,t,n){"use strict";var r=n(1327),o=n.n(r);n.d(t,"default",(function(){return o.a}))},1539:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,".actionsContainer_eLb45>a{border-radius:8px}\n",""]),r.locals={actionsContainer:"actionsContainer_eLb45"},e.exports=r},1540:function(e,t,n){"use strict";var r=n(1328),o=n.n(r);n.d(t,"default",(function(){return o.a}))},1541:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,".container_xVXKB .palettes_qXocJ{width:100%;max-height:10.625rem;min-height:6.25rem;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.container_xVXKB .palettes_qXocJ::-webkit-scrollbar{display:none}.container_xVXKB .palettes_qXocJ .colors_e6V1I{display:flex;flex:1;border-radius:6px;border:2px solid #EBEDF5;height:20px}.container_xVXKB .palettes_qXocJ .colors_e6V1I.active_z0Z2k{position:relative;border-color:#0092e4;border-radius:6px;transition:all 0.2s ease-in;padding:1px}.container_xVXKB .palettes_qXocJ .colors_e6V1I.active_z0Z2k::before{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;background:rgba(255,255,255,0.5)}.container_xVXKB .palettes_qXocJ .colors_e6V1I div:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.container_xVXKB .palettes_qXocJ .colors_e6V1I div:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}.container_xVXKB .palettes_qXocJ .colors_e6V1I .color_Qkwt4{display:inline-block;background:#596080;width:100%;height:100%}.container_xVXKB .palettes_qXocJ .colors_e6V1I:hover{border-color:#B4BAD6}.container_xVXKB .palettes_qXocJ .dropdown .customDropdown{padding:0;box-shadow:inherit;border:0;border-radius:.25rem;color:#767FAD}\n",""]),r.locals={container:"container_xVXKB",palettes:"palettes_qXocJ",colors:"colors_e6V1I",active:"active_z0Z2k",color:"color_Qkwt4"},e.exports=r},1542:function(e,t,n){"use strict";var r=n(1329),o=n.n(r);n.d(t,"default",(function(){return o.a}))},1543:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,".fixedWidth_wnQRM{width:172px}.reducedFixedWidth_8m2Vn{width:140px}.customPadding_8jrsd{padding:6px}.menu_lP7wR{width:280px;height:auto;overflow-y:auto;padding:0;background-color:#ffffff;background-clip:padding-box;border:1px solid #ebedf5;border-radius:8px;box-shadow:0 10px 20px rgba(0,0,0,0.1);color:#000;position:absolute;left:0;bottom:calc(100% + 10px);transition:all 0.3s ease;z-index:99}.menu_lP7wR.bottom_ZUONi{top:110%;right:0;left:inherit;bottom:inherit}.menu_lP7wR .colors_9M\\+H4{max-width:100%}.colors_9M\\+H4{display:flex;flex-grow:1;border-radius:4px;max-width:6.0625rem}.colors_9M\\+H4.active_qB2v0{position:relative;box-shadow:0 0 0 2px #0092e4;border-radius:4px;transition:box-shadow 0.2s ease-in;opacity:0.5}.colors_9M\\+H4.active_qB2v0::before{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;background:rgba(255,255,255,0.5)}.colors_9M\\+H4 div:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.colors_9M\\+H4 div:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}.colors_9M\\+H4 .color_XR\\+kI{display:inline-block;background:#596080;width:100%;height:28px}.colors_9M\\+H4.btnSelectedPalette_Udvsf{border:2px solid #0092e4;border-radius:6px;padding:1px}.btnColor_rHd0S{background:#596080;height:24px}\n",""]),r.locals={fixedWidth:"fixedWidth_wnQRM",reducedFixedWidth:"reducedFixedWidth_8m2Vn",customPadding:"customPadding_8jrsd",menu:"menu_lP7wR",bottom:"bottom_ZUONi",colors:"colors_9M+H4",active:"active_qB2v0",color:"color_XR+kI",btnSelectedPalette:"btnSelectedPalette_Udvsf",btnColor:"btnColor_rHd0S"},e.exports=r},1544:function(e,t,n){"use strict";var r=n(1330),o=n.n(r);n.d(t,"default",(function(){return o.a}))},1545:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,".container_7hNOE{position:relative}.container_7hNOE .customPadding_p\\+N6M{padding:6px}.container_7hNOE .fixedWidth_gBB1a{width:172px}.container_7hNOE .reducedFixedWidth_7YbJ3{width:140px}\n",""]),r.locals={container:"container_7hNOE",customPadding:"customPadding_p+N6M",fixedWidth:"fixedWidth_gBB1a",reducedFixedWidth:"reducedFixedWidth_7YbJ3"},e.exports=r},1605:function(e,t){},1606:function(e,t){},1656:function(e,t,n){"use strict";var r={props:{size:{type:String,default:"1em"}}},o=n(7),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M17,11H9.41l3.3-3.29a1,1,0,1,0-1.42-1.42l-5,5a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l5,5a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L9.41,13H17a1,1,0,0,0,0-2Z"}})])}),[],!1,null,null,null);t.a=component.exports},1684:function(e,t,n){var r=n(423),o=n(1685),l=n(1687);e.exports=function(e,t){return l(o(e,t,r),e+"")}},1685:function(e,t,n){var r=n(1686),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var l=arguments,c=-1,d=o(l.length-t,0),h=Array(d);++c<d;)h[c]=l[t+c];c=-1;for(var f=Array(t+1);++c<t;)f[c]=l[c];return f[t]=n(h),r(e,this,f)}}},1686:function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1687:function(e,t,n){var r=n(1688),o=n(1690)(r);e.exports=o},1688:function(e,t,n){var r=n(1689),o=n(644),l=n(423),c=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:l;e.exports=c},1689:function(e,t){e.exports=function(e){return function(){return e}}},1690:function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var o=n(),l=16-(o-r);if(r=o,l>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},1722:function(e,t,n){var r=n(639),o=n(1750),l=n(1751);e.exports=function(e,t,n){return t==t?l(e,t,n):r(e,o,n)}},1749:function(e,t,n){var r=n(1722);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},1750:function(e,t){e.exports=function(e){return e!=e}},1751:function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},1752:function(e,t){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},2219:function(e,t,n){var content=n(3209);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("49eb7a78",content,!0,{sourceMap:!1})},2258:function(e,t,n){"use strict";var r={props:{size:{type:String,default:"1em"}}},o=n(7),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M10,18a1,1,0,0,0,1-1V11a1,1,0,0,0-2,0v6A1,1,0,0,0,10,18ZM20,6H16V5a3,3,0,0,0-3-3H11A3,3,0,0,0,8,5V6H4A1,1,0,0,0,4,8H5V19a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V8h1a1,1,0,0,0,0-2ZM10,5a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V6H10Zm7,14a1,1,0,0,1-1,1H8a1,1,0,0,1-1-1V8H17Zm-3-1a1,1,0,0,0,1-1V11a1,1,0,0,0-2,0v6A1,1,0,0,0,14,18Z"}})])}),[],!1,null,null,null);t.a=component.exports},2259:function(e,t,n){"use strict";var r={props:{size:{type:String,default:"1em"}}},o=n(7),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M22,7.24a1,1,0,0,0-.29-.71L17.47,2.29A1,1,0,0,0,16.76,2a1,1,0,0,0-.71.29L13.22,5.12h0L2.29,16.05a1,1,0,0,0-.29.71V21a1,1,0,0,0,1,1H7.24A1,1,0,0,0,8,21.71L18.87,10.78h0L21.71,8a1.19,1.19,0,0,0,.22-.33,1,1,0,0,0,0-.24.7.7,0,0,0,0-.14ZM6.83,20H4V17.17l9.93-9.93,2.83,2.83ZM18.17,8.66,15.34,5.83l1.42-1.41,2.82,2.82Z"}})])}),[],!1,null,null,null);t.a=component.exports},2624:function(e,t,n){"use strict";var r={props:{size:{type:String,default:"1em"}}},o=n(7),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M21,11a1,1,0,0,0-1,1,8.05,8.05,0,1,1-2.22-5.5h-2.4a1,1,0,0,0,0,2h4.53a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4.77A10,10,0,1,0,22,12,1,1,0,0,0,21,11Z"}})])}),[],!1,null,null,null);t.a=component.exports},2625:function(e,t,n){"use strict";var r={props:{size:{type:String,default:"1em"}}},o=n(7),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M12,10c-1.1,0-2,0.9-2,2s0.9,2,2,2s2-0.9,2-2S13.1,10,12,10z M12,7c1.1,0,2-0.9,2-2s-0.9-2-2-2s-2,0.9-2,2S10.9,7,12,7z M12,17c-1.1,0-2,0.9-2,2s0.9,2,2,2s2-0.9,2-2S13.1,17,12,17z"}})])}),[],!1,null,null,null);t.a=component.exports},2655:function(e,t,n){"use strict";var r={props:{size:{type:String,default:"1em"}}},o=n(7),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20Zm4-9H13V8a1,1,0,0,0-2,0v3H8a1,1,0,0,0,0,2h3v3a1,1,0,0,0,2,0V13h3a1,1,0,0,0,0-2Z"}})])}),[],!1,null,null,null);t.a=component.exports},2692:function(e,t,n){var content=n(3440);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("be586b1e",content,!0,{sourceMap:!1})},2693:function(e,t,n){var content=n(3442);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("12272ea9",content,!0,{sourceMap:!1})},2723:function(e,t,n){var r=n(166),o=n(145);e.exports=function(e){return o(e)&&r(e)}},2926:function(e,t,n){e.exports=n.p+"img/exclusive-badge.55365ec.svg"},2935:function(e,t,n){"use strict";var r=n(8),o=n(11),l=(n(45),n(22),n(19),n(49),n(34),n(35),n(27),n(21),n(193),n(10),n(48),n(54),n(1316)),c=n(1376),d=n(1354),h=n(1499);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={components:{Loader:c.default,CanvasRenderer:h.a},mixins:[d.a],props:{item:{type:Object,default:function(){}},size:{type:Number,default:256}},data:function(){return{originalContent:null,brandedContent:null,editorInstance:null,initiatedWithBrandColor:!1,isLoading:!0,disableTimeTravel:!0}},computed:{preview:function(){return this.brandedContent||this.originalContent},id:function(){return"pdpColorEditor-".concat(this.item.id)},canvasWidth:function(){return this.size},canvasHeight:function(){return this.size},selectedBrandPalette:function(){return this.$store.getters["brandPalettes/selectedPalette"]},currentModal:function(){return this.$modal&&this.$modal.currentModal?this.$modal.currentModal.id:null}},watch:{currentModal:function(e,t){["modalEditIcon","modalItemPreview",null].includes(e)&&["modalEditIcon","modalItemPreview",null].includes(t)&&(this.unsubscribe?this.stopWatch():(this.onPaletteSelected(),this.startWatch()))},preview:function(e){e&&this.$emit("updatePreview",e)}},created:function(){this.startWatch()},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="icon"===e.item.asset?e.item.urls.original:e.item.urls.svg,t.next=4,e.$axios(n,{withCredentials:!1});case 4:if(r=t.sent,data=r.data){t.next=9;break}return e.$emit("disableBrandedPreview"),t.abrupt("return");case 9:return t.next=11,Object(l.a)(data,m({},"illustration"===e.item.asset&&{mergePaths:!1}));case 11:e.originalContent=t.sent,e.selectedBrandPalette&&(e.apply(),e.initiatedWithBrandColor=!0),e.preview&&e.$emit("updatePreview",e.preview),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(0),console.error(t.t0),e.$sentry.captureException(t.t0),e.$emit("disableBrandedPreview");case 21:return t.prev=21,e.isLoading=!1,t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[0,16,21,24]])})))()},methods:{onPalettesLoaded:function(){!this.initiatedWithBrandColor&&this.selectedBrandPalette&&this.apply()},onPaletteSelected:function(){this.selectedBrandPalette?this.apply():this.brandedContent=null},initEditorInstance:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n(1453),o=r.Editor,e.editorInstance=new o({originalContent:e.originalContent}),t.next=5,e.editorInstance.init();case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),e.$sentry.captureException(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},apply:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.brandedContent){t.next=3;break}return t.next=3,e.initEditorInstance();case 3:return t.next=5,e.editorInstance.getBrandSvg({palette:e.selectedBrandPalette.colors,processSvgPluginOptions:"illustration"===e.item.asset?{mergePaths:!1}:{}});case 5:e.brandedContent=t.sent;case 6:case"end":return t.stop()}}),t)})))()},onLargePreview:function(){"illustration"===this.item.asset&&this.$modal.open({id:"modalItemPreviewFs",component:Promise.all([n.e(0),n.e(370)]).then(n.bind(null,4386)),props:{item:this.item,brandPreview:this.preview,selectedPreviewIndex:this.selectedPreviewIndex},options:{modalOnModal:!0}})}}},w=n(7),component=Object(w.a)(v,(function(){var e=this,t=e._self._c;return t("div",{on:{click:e.onLargePreview}},[e.isLoading?t("loader",{attrs:{width:200,height:200}}):!e.isLoading&&e.preview?t("canvas-renderer",{attrs:{"canvas-ref":e.id,"canvas-width":e.canvasWidth,"canvas-height":e.canvasHeight,preview:e.preview}}):e._e()],1)}),[],!1,null,null,null);t.a=component.exports},2984:function(e,t,n){var r=n(419),o=n(109);e.exports=function(e,t,n){var l=!0,c=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(l="leading"in n?!!n.leading:l,c="trailing"in n?!!n.trailing:c),r(e,t,{leading:l,maxWait:t,trailing:c})}},3027:function(e,t,n){"use strict";t.a={data:function(){return{worker:null}},created:function(){this.worker||(this.worker=this.$worker.initLottieSwapper(),this.worker.addEventListener("message",this.onWorkerResponse))},methods:{onWorkerResponse:function(e){}},destroyed:function(){this.worker&&this.worker.terminate()}}},3100:function(e,t,n){var content=n(4174);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("949c0a1e",content,!0,{sourceMap:!1})},3102:function(e,t,n){"use strict";n(22),n(19),n(34),n(35),n(27),n(21);var r=n(8);n(42),n(29),n(10),n(64);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=n(3141),d={props:{size:{type:String,default:"1em"}}},h=n(7),f=Object(h.a)(d,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M7.5,2C5.6,2,4,3.6,4,5.5v13C4,20.4,5.6,22,7.5,22s3.5-1.6,3.5-3.5v-13C11,3.6,9.4,2,7.5,2z M16.5,2C14.6,2,13,3.6,13,5.5v13c0,1.9,1.6,3.5,3.5,3.5s3.5-1.6,3.5-3.5v-13C20,3.6,18.4,2,16.5,2z"}})])}),[],!1,null,null,null).exports,m=n(2625),v={props:{size:{type:String,default:"1em"}}},w=Object(h.a)(v,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M18.7,7.2c-0.4-0.4-1-0.4-1.4,0l-7.5,7.5l-3.1-3.1c0,0,0,0,0,0c-0.4-0.4-1-0.4-1.4,0c-0.4,0.4-0.4,1,0,1.4l3.8,3.8c0.2,0.2,0.4,0.3,0.7,0.3c0.3,0,0.5-0.1,0.7-0.3l8.2-8.2C19.1,8.2,19.1,7.6,18.7,7.2z"}})])}),[],!1,null,null,null).exports,y=n(1621),_=n(1237),x=n(419),P=n.n(x);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={components:{UisPlay:c.a,UisPause:f,UisEllipsisV:m.a,UisCheck:w,BFormInput:y.a,BDropdown:_.a},props:{isPlaying:{type:Boolean,default:!0},animation:{type:Object,default:function(){}},isLoading:{type:String,default:null},isCopied:{type:Boolean,default:!1},client:{type:String,default:null},item:{type:Object,default:function(){}}},data:function(){return{isValidValue:!0}},computed:{currentFrame:function(){return Math.round(this.animation.currentFrame)},totalFrame:function(){return Math.round(this.animation.totalFrames)}},methods:{changeFrame:function(e){e&&e>=0&&e<=this.totalFrame?(this.isValidValue=!0,this.isPlaying&&this.$emit("pause"),this.animation.goToAndStop(parseFloat(e),!0)):this.isValidValue=!1,this.track(e)},track:P()((function(e){this.$analytics.track("player-control",{route_name:this.$route.name,route_path:this.$route.path,action:"change-frame",data:C(C({client:this.client,id:this.item.id,name:this.item.name,slug:this.item.slug,price:this.item.payable_price,licenseId:this.item.license_id},this.$store.getters["brandPalettes/selectedPalette"]&&{brand_palette_id:this.$store.getters["brandPalettes/selectedPalette"].id}),{},{frame:e,totalFrame:this.totalFrame})})}),1e3)}},O=n(3208);var j=Object(h.a)($,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.controlsWrapper},[e.isPlaying?t("div",{directives:[{name:"track",rawName:"v-track",value:{event:"player-control",data:{route_name:e.$route.name,route_path:e.$route.path,action:"pause",data:l(l({client:e.client,id:e.item.id,name:e.item.name,slug:e.item.slug,price:e.item.payable_price,licenseId:e.item.license_id},e.$store.getters["brandPalettes/selectedPalette"]&&{brand_palette_id:e.$store.getters["brandPalettes/selectedPalette"].id}),{},{frame:e.currentFrame,totalFrame:e.totalFrame})}},expression:"{\n      event: 'player-control',\n      data: {\n        route_name: $route.name,\n        route_path: $route.path,\n        action: 'pause',\n        data: {\n          client,\n          id: item.id,\n          name: item.name,\n          slug: item.slug,\n          price: item.payable_price,\n          licenseId: item.license_id,\n          ...($store.getters['brandPalettes/selectedPalette'] && {\n            brand_palette_id:\n              $store.getters['brandPalettes/selectedPalette'].id,\n          }),\n          frame: currentFrame,\n          totalFrame: totalFrame,\n        },\n      },\n    }"}],class:["d-flex p-2 mr-2-5",e.$style.controlsBtn],on:{click:function(t){return e.$emit("pause")}}},[t("uis-pause",{attrs:{size:"24"}})],1):t("div",{directives:[{name:"track",rawName:"v-track",value:{event:"player-control",data:{route_name:e.$route.name,route_path:e.$route.path,action:"play",data:l(l({client:e.client,id:e.item.id,name:e.item.name,slug:e.item.slug,price:e.item.payable_price,licenseId:e.item.license_id},e.$store.getters["brandPalettes/selectedPalette"]&&{brand_palette_id:e.$store.getters["brandPalettes/selectedPalette"].id}),{},{frame:e.currentFrame,totalFrame:e.totalFrame})}},expression:"{\n      event: 'player-control',\n      data: {\n        route_name: $route.name,\n        route_path: $route.path,\n        action: 'play',\n        data: {\n          client,\n          id: item.id,\n          name: item.name,\n          slug: item.slug,\n          price: item.payable_price,\n          licenseId: item.license_id,\n          ...($store.getters['brandPalettes/selectedPalette'] && {\n            brand_palette_id:\n              $store.getters['brandPalettes/selectedPalette'].id,\n          }),\n          frame: currentFrame,\n          totalFrame: totalFrame,\n        },\n      },\n    }"}],class:["d-flex p-2 mr-2-5",e.$style.controlsBtn],on:{click:function(t){e.$emit("play"),e.isValidValue=!0}}},[t("uis-play",{attrs:{size:"24"}})],1),e._v(" "),t("b-form-input",{ref:"rangeInput",class:["mr-2-5",e.$style.rangeInput],style:{background:"linear-gradient(to right, #00c6ff 0%, #00c6ff ".concat(100*e.currentFrame/e.totalFrame,"%, #d9e0e6  ").concat(100*e.currentFrame/e.totalFrame,"%, #d9e0e6 100%)")},attrs:{value:e.currentFrame,max:e.totalFrame,min:"0",type:"range"},on:{input:e.changeFrame}}),e._v(" "),t("div",{class:["d-flex justify-content-center align-items-center mr-2-5",e.$style.frameInputWrapper,e.isPlaying||e.isValidValue?null:e.$style.errorState]},[t("b-form-input",{style:{width:"".concat(8*e.totalFrame.toString().length,"px")},attrs:{value:e.currentFrame,max:e.totalFrame,min:"0",type:"number"},on:{input:e.changeFrame,focus:function(t){return e.$emit("pause")}}}),e._v(" "),t("label",{staticClass:"mb-0 ml-2"},[e._v("/ "+e._s(e.totalFrame))])],1),e._v(" "),t("b-dropdown",{staticClass:"p-0 mr-2-5",attrs:{"toggle-class":e.$style.dropdownBtn,variant:"zero","no-caret":"",right:"",lazy:""},on:{show:function(t){return e.$emit("pause")}}},[t("template",{slot:"button-content"},[t("uis-ellipsis-v",{attrs:{size:"16"}})],1),e._v(" "),t("button",{class:["btn btn-sm btn-block",e.isCopied?"has-icon":null,"copy"===e.isLoading?"ajax-loading-light disabled":null,e.$style.actionBtn],attrs:{type:"button"},on:{click:function(t){return e.$emit("copySvg")}}},[e.isCopied?t("span",[t("uis-check",{staticClass:"mr-2-5",attrs:{size:"24"}}),e._v("\n        "+e._s(e.$t("buttons.copied"))+"\n      ")],1):t("span",[e._v(e._s(e.$t("buttons.copy_as_format",{format:"SVG"})))])]),e._v(" "),t("button",{class:["btn btn-sm btn-block","download"===e.isLoading?"ajax-loading-light disabled":null,e.$style.actionBtn],attrs:{type:"button"},on:{click:function(t){return e.$emit("downloadSvg")}}},[e._v("\n      Download as SVG\n    ")])],2)],1)}),[],!1,(function(e){this.$style=O.default.locals||O.default}),null,null);t.a=j.exports},3136:function(e,t,n){e.exports=n.p+"img/full-screen.0cca4a3.svg"},3141:function(e,t,n){"use strict";var r={props:{size:{type:String,default:"1em"}}},o=n(7),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M18.5,9L8.9,3.5C8.4,3.2,7.8,3,7.2,3C5.3,3,3.8,4.5,3.8,6.4v11.2c0,1.9,1.5,3.4,3.4,3.4c0.6,0,1.2-0.2,1.7-0.5l9.7-5.6c0.5-0.3,0.9-0.7,1.2-1.2C20.7,12.1,20.2,10,18.5,9z"}})])}),[],!1,null,null,null);t.a=component.exports},3208:function(e,t,n){"use strict";var r=n(2219),o=n.n(r);n.d(t,"default",(function(){return o.a}))},3209:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,".controlsWrapper_2F2lz{display:flex;align-items:center}.controlsWrapper_2F2lz .controlsBtn_iLL8-{cursor:pointer}.controlsWrapper_2F2lz .rangeInput_Mipqq{-webkit-appearance:none;appearance:none;width:207px;height:4px;outline:none;border-radius:12px;opacity:1;cursor:pointer;transition:opacity 0.2s}.controlsWrapper_2F2lz .rangeInput_Mipqq::-webkit-slider-runnable-track{height:4px}.controlsWrapper_2F2lz .rangeInput_Mipqq::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;border-radius:8px;background:#3aa0ff;cursor:pointer;margin-top:-7px}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR{max-width:108px;height:16px;border-radius:4px;background:#EBEDF5;padding:0 .5rem;font-size:10px}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR:hover,.controlsWrapper_2F2lz .frameInputWrapper_w4ghR:focus-within{background:none;box-shadow:0 0 0 1px #D8DBEB}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR:hover input,.controlsWrapper_2F2lz .frameInputWrapper_w4ghR:focus-within input{background:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR.errorState_gkgGJ{box-shadow:0 0 0 1px #DE524C;background:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR.errorState_gkgGJ input{color:#DE524C !important;background:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input{height:14px;border:none;text-align:right;-moz-appearance:textfield;background:#EBEDF5;font-size:10px;padding:.125rem 0 .125rem .25rem;border-radius:0}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input::-webkit-outer-spin-button,.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input:active,.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input:focus{outline:none;box-shadow:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input:focus-visible{outline:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR label{color:#596080}.controlsWrapper_2F2lz .dropdownBtn_Fdbgs{width:24px;height:24px;display:flex;justify-content:center;align-items:center;padding:.25rem;border:none;background:none;box-shadow:none !important;background-color:none !important;border-radius:4px}.controlsWrapper_2F2lz .dropdownBtn_Fdbgs:hover,.controlsWrapper_2F2lz .dropdownBtn_Fdbgs:active,.controlsWrapper_2F2lz .dropdownBtn_Fdbgs:focus,.controlsWrapper_2F2lz .dropdownBtn_Fdbgs.visited_dkBp8{outline:none;background:#EBEDF5 !important}.controlsWrapper_2F2lz .actionBtn_bDfSV{background-color:#fff;color:#424866;text-align:left;justify-content:left}.controlsWrapper_2F2lz .actionBtn_bDfSV:hover{color:#fff;background-color:#0092e4}.controlsWrapper_2F2lz .actionBtn_bDfSV:active,.controlsWrapper_2F2lz .actionBtn_bDfSV:focus{box-shadow:none;outline:none}.controlsWrapper_2F2lz .actionBtn_bDfSV span{display:contents}\n",""]),r.locals={controlsWrapper:"controlsWrapper_2F2lz",controlsBtn:"controlsBtn_iLL8-",rangeInput:"rangeInput_Mipqq",frameInputWrapper:"frameInputWrapper_w4ghR",errorState:"errorState_gkgGJ",dropdownBtn:"dropdownBtn_Fdbgs",visited:"visited_dkBp8",actionBtn:"actionBtn_bDfSV"},e.exports=r},3436:function(e,t,n){var r=n(425),o=n(3437),l=n(1684),c=n(3438),d=l((function(e){var t=r(e,c);return t.length&&t[0]===e[0]?o(t):[]}));e.exports=d},3437:function(e,t,n){var r=n(648),o=n(1749),l=n(1752),c=n(425),d=n(315),h=n(649),f=Math.min;e.exports=function(e,t,n){for(var m=n?l:o,v=e[0].length,w=e.length,y=w,_=Array(w),x=1/0,P=[];y--;){var k=e[y];y&&t&&(k=c(k,d(t))),x=f(k.length,x),_[y]=!n&&(t||v>=120&&k.length>=120)?new r(y&&k):void 0}k=e[0];var C=-1,$=_[0];e:for(;++C<v&&P.length<x;){var O=k[C],j=t?t(O):O;if(O=n||0!==O?O:0,!($?h($,j):m(P,j,n))){for(y=w;--y;){var B=_[y];if(!(B?h(B,j):m(e[y],j,n)))continue e}$&&$.push(j),P.push(O)}}return P}},3438:function(e,t,n){var r=n(2723);e.exports=function(e){return r(e)?e:[]}},3439:function(e,t,n){"use strict";var r=n(2692),o=n.n(r);n.d(t,"default",(function(){return o.a}))},3440:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,".previewerWrapper_la0ok{flex-grow:1}.previewerWrapper_la0ok .container_MOTUv{width:100%;height:100%;border-radius:12px}.previewerWrapper_la0ok .container_MOTUv:focus{outline:none}\n",""]),r.locals={previewerWrapper:"previewerWrapper_la0ok",container:"container_MOTUv"},e.exports=r},3441:function(e,t,n){"use strict";var r=n(2693),o=n.n(r);n.d(t,"default",(function(){return o.a}))},3442:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,".loadingControlDiv_UVTib{height:32px}\n",""]),r.locals={loadingControlDiv:"loadingControlDiv_UVTib"},e.exports=r},3469:function(e,t,n){"use strict";var r=n(11),o=(n(45),n(29),n(10),n(48),n(54),n(419)),l=n.n(o),c=n(2984),d=n.n(c),h=n(1360),f=n(1376),m=n(1354),v={components:{Loader:f.default},mixins:[m.a],props:{src:{type:String,required:!0},fallbackSrc:{type:String,required:!0},hasPreviewLoaded:{type:Boolean,default:!1}},data:function(){return{id:"iconScout3DPreviewerPdp",initiatedWithBrandPalette:!1,isLoading:!0,resizeObserver:null}},fetchOnServer:!1,fetch:function(){this.load()},computed:{selectedBrandPalette:function(){return this.$store.getters["brandPalettes/selectedPalette"]}},created:function(){this.startWatch()},mounted:function(){var e=this;this.$nuxt.$on("download-3d-360",(function(t,n){"glb"===t.format||"gltf"===t.format?e.babylon.exportGLB(t.name):"png"===t.format&&e.babylon.exportPNG(t.name,t.size.width,null,t.download).then((function(e){"function"==typeof n&&n(e)}))})),this.resizeObserver=new ResizeObserver(d()(l()((function(){var t;null===(t=e.babylon)||void 0===t||t.engine.resize()}),3)),5),this.resizeObserver.observe(document.getElementById(this.id))},beforeDestroy:function(){this.$nuxt.$off("download-3d-360"),this.disposeCurrentSceneEngine(),this.stopWatch(),this.resizeObserver&&this.resizeObserver.disconnect()},methods:{load:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.isGlbLoading){t.next=3;break}return t.abrupt("return");case 3:return e.isLoading=!0,t.next=6,Promise.all([n.e(67),n.e(80),n.e(93),n.e(324)]).then(n.bind(null,5423));case 6:return r=t.sent.Babylon,e.babylon=new r(e.$refs[e.id],{debug:!1,isUnicons:!1,autoRotate:!0}),t.next=10,e.babylon.loadUrl(e.src,e.fallbackSrc,null,e.$sentry);case 10:e.selectedBrandPalette?(e.swap(e.selectedBrandPalette.colors),e.initiatedWithBrandPalette=!0):e.initiatedWithBrandPalette=!1,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error("Error loading 3D model",t.t0);case 16:return t.prev=16,e.isLoading=!1,e.$emit("update:hasPreviewLoaded",!0),t.finish(16);case 20:case"end":return t.stop()}}),t,null,[[0,13,16,20]])})))()},onPaletteSelected:function(){if(this.selectedBrandPalette)this.swap(this.selectedBrandPalette.colors);else{var e=this.babylon.getOriginalColors(this.babylon.scene.materials);this.babylon.setColors(e)}},onPalettesLoaded:function(){this.selectedBrandPalette&&!this.initiatedWithBrandPalette&&!this.isLoading&&this.swap(this.selectedBrandPalette.colors)},swap:function(e){var t=this.babylon.getOriginalColors(this.babylon.scene.materials);if(t.length){var n=Object(h.b)(t,e);this.babylon.setColors(n)}},onCanvasClick:function(){this.babylon&&this.babylon.setCameraRotation(!1)},disposeCurrentSceneEngine:function(){this.babylon&&(this.babylon.engine.stopRenderLoop(),this.babylon.scene.dispose(),this.babylon.engine.dispose(),this.babylon=null,this.initiatedWithBrandPalette=!1)}}},w=n(3439),y=n(7);var component=Object(y.a)(v,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.previewerWrapper},[e.isLoading?t("div",[t("span",{staticClass:"sr-only"},[e._v("Loading 3D Preview")]),e._v(" "),t("loader",{attrs:{width:300,height:300}})],1):e._e(),e._v(" "),t("canvas",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],ref:e.id,class:e.$style.container,attrs:{id:e.id},on:{click:e.onCanvasClick,wheel:function(e){e.preventDefault()}}})])}),[],!1,(function(e){this.$style=w.default.locals||w.default}),null,null);t.a=component.exports},3470:function(e,t,n){"use strict";var r=n(8),o=n(11),l=(n(45),n(22),n(42),n(19),n(29),n(34),n(35),n(27),n(10),n(48),n(21),n(54),n(80),n(1286)),c=n.n(l),d=n(1267),h=n(1376),f=n(1354),m=n(1353),v=n(1323),w=n(3027),y=n(3102);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={components:{Loader:h.default,Controls:y.a},mixins:[w.a,f.a,m.a,v.a],props:{item:{type:Object,default:function(){}},hasCustomControls:{type:Boolean,default:!1}},data:function(){return{originalContent:null,isLoading:!1,isPlaying:!0,animationData:null,player:null,isCopied:!1,isLoadingAction:null}},computed:{id:function(){return"pdp-lottie-player-".concat(this.item.id)},selectedBrandPalette:function(){return this.$store.getters["brandPalettes/selectedPalette"]},originalLottieData:function(){return this.originalContent||this.item.urls.original}},created:function(){this.startWatch()},mounted:function(){this.$nuxt.$emit("lottie-pdp-model-opened",this.id),this.isLoading=!0;var e=this;n.e(291).then(n.bind(null,5667)).then((function(){e.$nextTick(Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.player=e.$refs.lottiePlayer,t.next=3,e.player.load(e.originalLottieData);case 3:e.player.play(),e.hasCustomControls&&(e.animationData=e.player.getLottie());case 5:case"end":return t.stop()}}),t)}))))}))},destroyed:function(){this.$nuxt.$emit("lottie-pdp-model-closed")},methods:{play:function(){this.player.play(),this.isPlaying=!0},pause:function(){this.player.pause(),this.isPlaying=!1},onPaletteSelected:function(){this.selectedBrandPalette?this.swap(this.selectedBrandPalette.colors):this.applyLive(this.originalLottieData)},onLoad:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.originalContent){t.next=5;break}return t.next=3,e.player.getLottie();case 3:n=t.sent,e.originalContent=n.animationData;case 5:e.selectedBrandPalette&&e.swap(e.selectedBrandPalette.colors),e.isLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},swap:function(e){this.$nuxt.$loading.start(),this.worker.postMessage(JSON.parse(JSON.stringify({lottie:this.originalLottieData,palette:e})))},onWorkerResponse:function(e){this.applyLive(e.data.swappedJson)},applyLive:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Math.ceil(t.player.getLottie().currentFrame),n.next=3,t.player.load(e);case 3:return n.next=5,t.player.seek(r);case 5:t.animationData=t.player.getLottie(),t.$nuxt.$loading.finish();case 7:case"end":return n.stop()}}),n)})))()},onLargePreview:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.player.getLottie();case 2:r=t.sent,o=r.animationData,e.$modal.open({id:"modalItemPreviewFs",component:Promise.all([n.e(0),n.e(107)]).then(n.bind(null,4386)),props:{item:e.item,brandPreview:JSON.stringify(o),selectedPreviewIndex:e.selectedPreviewIndex,hasCustomControls:e.hasCustomControls},options:{modalOnModal:!0}});case 5:case"end":return t.stop()}}),t)})))()},preHandleAuth:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this.handleAuth({trackAuth:function(){return e.track("auth",t)}})){if(this.canDownload)return!0;if(this.$store.state.user.previousSubscription)this.$modal.open({id:"modalUpdatePaymentDetails",component:Promise.all([n.e(0),n.e(418)]).then(n.bind(null,2622)),options:{track:!0,modalOnModal:!0,extraTrackingData:{from_location:"pdp-player-control-".concat(t,"-svg"),from_asset:this.item.asset}},props:{previousSubscription:this.$store.state.user.previousSubscription}});else{this.track("pricing",t);var r="".concat("https://iconscout.com").concat(this.$router.resolve(this.$helper.localize({name:"pricing"})).href);window.open(r,"_blank")}}return!1},onDownload:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.preHandleAuth("download")){t.next=6;break}return e.isLoadingAction="download",t.next=4,e.preDownload({format:"svg",canBeBranded:!0,downloadUrl:!0,nuxtLoader:!1,location:"pdp-preview",action:"player-controls-download"});case 4:if(t.sent)try{e.player.snapshot()}catch(t){console.error(t),e.toastMessage("Failed to download file")}finally{e.isLoadingAction=null}else e.isLoadingAction=null,n="Failed to fetch URL",console.error(n),e.toastMessage(n);case 6:case"end":return t.stop()}}),t)})))()},onCopy:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.preHandleAuth("copy")){t.next=6;break}return e.isLoadingAction="copy",t.next=4,e.preDownload({format:"svg",canBeBranded:!0,downloadUrl:!0,nuxtLoader:!1,location:"pdp-preview",action:"player-controls-copy"});case 4:if(t.sent)try{e.isCopied=!0,(n=(new DOMParser).parseFromString(e.player.snapshot(!1),"text/xml")).getElementsByTagName("svg")[0].setAttribute("id",e.item.name),c()((new XMLSerializer).serializeToString(n)),setTimeout((function(){e.isCopied=!1}),5e3)}catch(t){console.error(t),e.toastMessage("Failed to copy file")}finally{e.isLoadingAction=null}else e.isLoadingAction=null,r="Failed to fetch URL",console.error(r),e.toastMessage(r);case 6:case"end":return t.stop()}}),t)})))()},track:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"copy";this.$analytics.track("pdp-preview",{route_path:this.$route.path,route_name:this.$route.name,location:"pdp-player-controls",action:t,data:x({postAction:e},Object(d.a)(this,{item:this.item,canBranded:!0}))})},toastMessage:function(title){this.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"})}}},k=P,C=n(3441),$=n(7);var component=Object($.a)(k,(function(){var e=this,t=e._self._c;return t("div",[e.isLoading?t("loader",{attrs:{width:300,height:300}}):e._e(),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"d-flex flex-column justify-content-center align-items-center"},[t("lottie-player",{ref:"lottiePlayer",style:{width:"auto",height:"500px",overflow:"hidden",margin:"0 auto"},attrs:{id:e.id,loop:""},on:{load:e.onLoad,click:e.onLargePreview}}),e._v(" "),e.hasCustomControls?[e.animationData?t("controls",{attrs:{"is-playing":e.isPlaying,animation:e.animationData,"is-loading":e.isLoadingAction,"is-copied":e.isCopied,item:e.item,client:"pdp"},on:{copySvg:e.onCopy,downloadSvg:e.onDownload,play:e.play,pause:e.pause}}):t("div",{class:e.$style.loadingControlDiv})]:e._e()],2)],1)}),[],!1,(function(e){this.$style=C.default.locals||C.default}),null,null);t.a=component.exports},3862:function(e,t,n){var content=n(5569);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("20d3f470",content,!0,{sourceMap:!1})},3863:function(e,t,n){var content=n(5571);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("74c893e8",content,!0,{sourceMap:!1})},4173:function(e,t,n){"use strict";var r=n(3100),o=n.n(r);n.d(t,"default",(function(){return o.a}))},4174:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,".container_WB9ko{position:relative;margin:0 auto}.container_WB9ko .scroller_u1kAq{width:100%;white-space:nowrap;overflow-y:auto;padding:0 .5rem;scrollbar-width:0}.container_WB9ko .scroller_u1kAq.yScroll_INT6O{scroll-snap-type:y mandatory}.container_WB9ko .scroller_u1kAq::-webkit-scrollbar{width:0 !important;height:0 !important}.container_WB9ko .scroller_u1kAq ul>li{scroll-margin:30px;scroll-snap-align:start;scroll-snap-stop:normal}.container_WB9ko .scroller_u1kAq .top_6v-HM{position:absolute;z-index:11;top:-50px;left:50%;transform:translateX(-50%);border-radius:50%}.container_WB9ko .scroller_u1kAq .bottom_laz30{position:absolute;z-index:11;bottom:-50px;left:50%;transform:translateX(-50%);border-radius:50%}.container_WB9ko .scroller_u1kAq.noControls_ns74K .shadowTop_kp1yb,.container_WB9ko .scroller_u1kAq.noControls_ns74K .shadowBottom_JcaO5{display:none}\n",""]),r.locals={container:"container_WB9ko",scroller:"scroller_u1kAq",yScroll:"yScroll_INT6O",top:"top_6v-HM",bottom:"bottom_laz30",noControls:"noControls_ns74K",shadowTop:"shadowTop_kp1yb",shadowBottom:"shadowBottom_JcaO5"},e.exports=r},4215:function(e,t,n){"use strict";n(80);var r=n(1249),o=n(1250),l={components:{UilAngleUp:r.a,UilAngleDown:o.a},props:{noControls:{type:Boolean,default:!1},compressed:{type:Boolean,default:!1}},data:function(){return{canScrollUp:!1,canScrollDown:!1}},mounted:function(){var e=this;this.$nextTick((function(){e.$refs.scroller&&e.setNextPrev()}))},methods:{setNextPrev:function(){this.canScrollUp=this.$refs.scroller.scrollTop>0,this.canScrollDown=this.$refs.scroller.scrollTop+this.$refs.scroller.offsetHeight<this.$refs.scroller.scrollHeight},swipeUp:function(){var e=this,t=this.$refs.scroller.clientHeight-Math.round(this.$refs.scroller.clientHeight/4);this.$refs.scroller.scrollTo({top:this.$refs.scroller.scrollTop-t,behavior:"smooth"}),window.setTimeout((function(){e.setNextPrev()}),200)},swipeDown:function(){var e=this,t=this.$refs.scroller.clientHeight-Math.round(this.$refs.scroller.clientHeight/4);this.$refs.scroller.scrollTo({top:this.$refs.scroller.scrollTop+t,behavior:"smooth"}),window.setTimeout((function(){e.setNextPrev()}),200)}}},c=n(4173),d=n(7);var component=Object(d.a)(l,(function(){var e,t=this,n=t._self._c;return n("div",{class:t.$style.container},[n("div",{ref:"scroller",class:[t.$style.scroller,t.$style.yScroll,(e={"py-0":t.compressed},e[t.$style.noControls]=t.noControls,e)],on:{scroll:t.setNextPrev}},[t._t("default"),t._v(" "),n("div",[t.canScrollUp?n("div",{class:t.$style.shadowTop},[n("button",{class:["btn btn-zero btn-icon",t.$style.top],attrs:{type:"button"},on:{click:t.swipeUp}},[n("uil-angle-up")],1)]):t._e(),t._v(" "),t.canScrollDown?n("div",{class:t.$style.shadowBottom},[n("button",{class:["btn btn-zero btn-icon",t.$style.bottom],attrs:{type:"button"},on:{click:t.swipeDown}},[n("uil-angle-down")],1)]):t._e()])],2)])}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null);t.a=component.exports},4398:function(e,t,n){"use strict";var r={props:{size:{type:String,default:"1em"}}},o=n(7),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M21.92,11.6C19.9,6.91,16.1,4,12,4S4.1,6.91,2.08,11.6a1,1,0,0,0,0,.8C4.1,17.09,7.9,20,12,20s7.9-2.91,9.92-7.6A1,1,0,0,0,21.92,11.6ZM12,18c-3.17,0-6.17-2.29-7.9-6C5.83,8.29,8.83,6,12,6s6.17,2.29,7.9,6C18.17,15.71,15.17,18,12,18ZM12,8a4,4,0,1,0,4,4A4,4,0,0,0,12,8Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,12,14Z"}})])}),[],!1,null,null,null);t.a=component.exports},5568:function(e,t,n){"use strict";var r=n(3862),o=n.n(r);n.d(t,"default",(function(){return o.a}))},5569:function(e,t,n){var r=n(56)((function(i){return i[1]}));r.push([e.i,'.previews_cLB4m{padding:0;margin:0;max-height:250px}.previews_cLB4m .previewItem_2bus0{height:3rem;width:3rem;margin-bottom:.5rem;cursor:pointer;display:block;border:1px solid #EBEDF5;border-radius:8px;padding:.5rem;position:relative;background-color:#fff}.previews_cLB4m .previewItem_2bus0 .previewImg_QXMOI{max-width:100%;max-height:100%}.previews_cLB4m .previewItem_2bus0:hover{background:#F5F6FA}@media (max-width: 1023.98px){.previews_cLB4m .previewItem_2bus0{padding:.25rem}}.previews_cLB4m .previewItem_2bus0.active_FcXmy{background-color:#EBEDF5}.previews_cLB4m .previewItem_2bus0.active_FcXmy::before{content:"";position:absolute;display:block;height:6px;width:6px;transform:rotateZ(45deg);border-top:3px solid #EBEDF5;border-right:3px solid #EBEDF5;border-bottom:3px solid transparent;border-left:3px solid transparent;right:-4px;top:50%;transform:translateY(-50%) rotateZ(45deg);margin-left:-2px}\n',""]),r.locals={previews:"previews_cLB4m",previewItem:"previewItem_2bus0",previewImg:"previewImg_QXMOI",active:"active_FcXmy"},e.exports=r},5570:function(e,t,n){"use strict";var r=n(3863),o=n.n(r);n.d(t,"default",(function(){return o.a}))},5571:function(e,t,n){var r=n(56),o=n(412),l=n(1395),c=r((function(i){return i[1]})),d=o(l);c.push([e.i,".container_UL7d9{padding:0 1.5rem;position:relative}.container_UL7d9.responsivePosition_Fdm9X{align-items:end}@media (max-width: 1580px){.container_UL7d9.responsivePosition_Fdm9X{padding-bottom:74px}}.container_UL7d9 .bg_yyspP{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0.4}.container_UL7d9 .badges_KNyqg{position:absolute;top:0;left:1.5rem;z-index:15}@media (max-width: 1023.98px){.container_UL7d9 .badges_KNyqg{display:none}}.container_UL7d9 .previewContainer_dk5D6{position:relative;height:672px;max-width:928px;width:100%;display:flex;align-items:center;justify-content:center}.container_UL7d9 .previewContainer_dk5D6.darkBg_iaj14{background:#1C2033}.container_UL7d9 .previewContainer_dk5D6 .lottie_VhYuT{display:block;max-height:540px;max-width:100%}.container_UL7d9 .previewContainer_dk5D6 .lottie_VhYuT lottie-player{cursor:pointer}.container_UL7d9 .previewContainer_dk5D6>video{display:block;max-height:540px;max-width:100%;cursor:pointer}.container_UL7d9 .previewContainer_dk5D6 .thumbPreview_YKgP8{overflow:hidden;display:block;width:100%;text-align:center;cursor:pointer}.container_UL7d9 .previewContainer_dk5D6 .thumbPreview_YKgP8>source,.container_UL7d9 .previewContainer_dk5D6 .thumbPreview_YKgP8>img{object-fit:contain;max-height:100%;max-width:100%;pointer-events:none}.container_UL7d9 .previewContainer_dk5D6 .mockupPreview_hv1Ih{text-align:center;cursor:pointer}.container_UL7d9 .previewContainer_dk5D6 .mockupPreview_hv1Ih>source,.container_UL7d9 .previewContainer_dk5D6 .mockupPreview_hv1Ih>img{max-height:450px;max-width:100%;border-radius:8px;margin-top:50px;object-fit:contain;pointer-events:none}.container_UL7d9 .previewContainer_dk5D6 .fullScreen_1wRT0{opacity:0;position:absolute;cursor:pointer;pointer-events:none;transition:opacity 0.22s}.container_UL7d9 .previewContainer_dk5D6:hover .fullScreen_1wRT0{opacity:1}.container_UL7d9 .previewContainer_dk5D6 .watermark_IWHQ8:before{position:absolute;content:'';background-image:url("+d+");background-repeat:no-repeat;background-position:center;opacity:0.7;width:100%;height:100%;pointer-events:none;z-index:1020}.container_UL7d9 .compContainer_u9esk{opacity:0;transition:all 0.2s ease-in-out}.container_UL7d9:hover .compContainer_u9esk{opacity:1}.container_UL7d9 .multiplePreview_k4CZR{position:absolute;left:1.5rem;top:50%;transform:translateY(-50%);z-index:11}.container_UL7d9 .D3Preview_9mQZs{position:absolute;bottom:5rem;left:1.5rem;transition:none}.container_UL7d9 .D3Preview_9mQZs .newBadge_c9zZY{position:absolute;top:0;transform:translateY(-50%);left:4px;font-size:8px;padding:.125rem .5rem !important;line-height:1.5}.container_UL7d9 .close360ViewBtn_sGHi\\+{position:absolute;bottom:0;left:50%;transform:translate(-50%, -50%)}.container_UL7d9 .brandColor_YxmX2{position:absolute;bottom:1.5rem;left:1.5rem;z-index:11}@media (max-width: 1023.98px){.container_UL7d9 .brandColor_YxmX2{display:none}}.container_UL7d9 .brandColor_YxmX2.hasEditorBtn_hnN0j{left:calc(2rem + 44px)}.container_UL7d9 .copyToClipboardBtn_DLFHO{position:absolute;right:1.5rem;bottom:1.5rem;z-index:11}\n",""]),c.locals={container:"container_UL7d9",responsivePosition:"responsivePosition_Fdm9X",bg:"bg_yyspP",badges:"badges_KNyqg",previewContainer:"previewContainer_dk5D6",darkBg:"darkBg_iaj14",lottie:"lottie_VhYuT",thumbPreview:"thumbPreview_YKgP8",mockupPreview:"mockupPreview_hv1Ih",fullScreen:"fullScreen_1wRT0",watermark:"watermark_IWHQ8",compContainer:"compContainer_u9esk",multiplePreview:"multiplePreview_k4CZR",D3Preview:"D3Preview_9mQZs",newBadge:"newBadge_c9zZY",close360ViewBtn:"close360ViewBtn_sGHi+",brandColor:"brandColor_YxmX2",hasEditorBtn:"hasEditorBtn_hnN0j",copyToClipboardBtn:"copyToClipboardBtn_DLFHO"},e.exports=c},5737:function(e,t,n){"use strict";n.r(t);var r=n(8);n(22),n(42),n(49),n(67),n(19),n(29),n(34),n(35),n(27),n(10),n(63),n(21);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=n(11),d=(n(45),n(196),n(1282),n(1283),n(1284),n(30),n(48),n(46),n(1344),n(1287),n(1288),n(1289),n(1290),n(1291),n(1292),n(1293),n(1294),n(1295),n(1296),n(1297),n(1298),n(1299),n(1300),n(1301),n(1302),n(1303),n(1304),n(1305),n(1306),n(1307),n(1308),n(1309),n(54),n(80),n(4398)),h=n(1248),f=n(1286),m=n.n(f),v=n(3436),w=n.n(v),y=n(1267),_=n(91),x=n(413),P=n(3469),k=n(233),C=n(1323),$=n(1399),label=n(1356),O=n(1489),j=n(3470);n(193);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={components:{VerticalScroll:n(4215).a},props:{asset:{type:String,default:"illustration"},previews:{type:Array,default:function(){return[]}},selectedPreviewIndex:{type:Number,default:0},item:{type:Object,default:function(){}}},computed:{isCuratedMockup:function(){return!!(this.previews&&this.previews.length>1&&this.previews[this.selectedPreviewIndex].isCuratedMockup)}},methods:{resizedUrl:x.a,generateSrcSetPx:_.c,generateMultipleFormats:_.a,onClick:function(e){var t=this;this.$emit("change-preview",e),this.$nextTick((function(){t.$analytics.track("pdp-preview",{route_name:t.$route.name,route_path:t.$route.path,location:"multi-preview-icons",action:"click",data:I({isCuratedMockup:t.isCuratedMockup,index:e},Object(y.a)(t,{item:t.item,canBranded:!1}))})}))}}},L=n(5568),D=n(7);var M=Object(D.a)(S,(function(){var e=this,t=e._self._c;return t("div",[t("vertical-scroll",[t("ul",{class:e.$style.previews},e._l(e.previews,(function(n,r){return t("li",{key:r,staticClass:"d-block mx-2"},[t("button",{class:[e.$style.previewItem,e.selectedPreviewIndex===r?e.$style.active:null],attrs:{type:"button"},on:{click:function(t){return e.onClick(r)}}},["lottie"===e.asset?t("video",{class:e.$style.previewImg,attrs:{src:e.resizedUrl({url:n.thumb,h:32}),autoplay:"",muted:"",loop:"",playsinline:"",type:"video/mp4"},domProps:{muted:!0}}):t("picture",[t("source",e._b({},"source",e.generateMultipleFormats({url:n.thumb,w:32}),!1)),e._v(" "),t("img",e._b({class:e.$style.previewImg,attrs:{loading:"lazy"}},"img",e.generateSrcSetPx({url:n.thumb,w:32,format:"webp"}),!1))])])])})),0)])],1)}),[],!1,(function(e){this.$style=L.default.locals||L.default}),null,null).exports,F=n(2935);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=600,A=500,T={components:{UilEye:d.a,UilTimes:h.a,MultiplePreview:M,BrandPaletteButton:O.a,LottieBrandPreview:j.a,SvgBrandPreview:F.a,D3Preview:P.a,NewBadge:k.a},mixins:[$.a,C.a,label.a],props:{item:{type:Object,default:function(){}},brandClient:{type:String,default:null},show360Preview:{type:Boolean,default:!1},hasEditorBtn:{type:Boolean,default:!1}},data:function(){return{showLarge:!1,selectedPreviewIndex:0,previewType:"normal",isLoading:!1,isCopied:!1,dataToCopy:null,showBrandedItem:!0,hasPreviewLoaded:!1}},computed:{copyableFormat:function(){return"3d"===this.item.asset?"png":"svg"},guestPreviewAttrs:function(){if(this.item){var e=E,t=A;this.item.width>this.item.height?(e=E,(t=this.item.height*e/this.item.width)>A&&(t=A,e=this.item.width*t/this.item.height)):(t=A,(e=this.item.width*t/this.item.height)>E&&(e=E,t=this.item.height*e/this.item.width));var n=this.calculateWatermarkHeight(this.item.width,this.item.height,t);return e=Math.round(e),t=Math.round(t),{style:{marginBottom:"-".concat(Math.ceil(n),"px")},width:e,height:t+n}}return{}},previews:function(){var e,t=[];return"3d"===this.item.asset?this.item.preview_files.forEach((function(e){t.push(e)})):t.push(this.item.urls),null!==(e=this.item)&&void 0!==e&&null!==(e=e.curated_item)&&void 0!==e&&null!==(e=e.urls)&&void 0!==e&&e.preview&&t.splice(1,0,{thumb:this.item.curated_item.urls.preview,preview:this.item.curated_item.urls.preview,isCuratedMockup:!0}),t},hasMultiplePreview:function(){return this.previews&&this.previews.length>1},currentPreviewUrl:function(){return this.hasMultiplePreview?this.previews[this.selectedPreviewIndex].preview:this.item.urls.preview},currentThumbUrl:function(){return this.hasMultiplePreview?this.previews[this.selectedPreviewIndex].thumb:this.item.urls.thumb},previewPictureClass:function(){var e;return null!==(e=this.item)&&void 0!==e&&null!==(e=e.curated_item)&&void 0!==e&&null!==(e=e.urls)&&void 0!==e&&e.preview&&this.previews[this.selectedPreviewIndex]&&this.previews[this.selectedPreviewIndex].isCuratedMockup&&"mockup"===this.previewType?this.$style.mockupPreview:this.$style.thumbPreview},canCopyFile:function(){return"lottie"===this.item.asset||("illustration"===this.item.asset?(!this.hasMultiplePreview||!this.previews[this.selectedPreviewIndex].isCuratedMockup)&&(this.item.formats.map((function(e){return e.name})).includes("svg")||(null===(e=this.item.urls.svg)||void 0===e?void 0:e.includes(".svg")))&&this.showBrandedItem:!("3d"!==this.item.asset||!window.navigator.clipboard)&&(!this.hasMultiplePreview||!this.previews[this.selectedPreviewIndex].isCuratedMockup));var e},showWatermark:function(){return!this.canItemDownload(this.item)},canShow360Preview:function(){return"3d"===this.item.asset&&this.showBrandedItem&&w()(["glb","gltf"],this.item.additional_formats).length>0&&0===this.selectedPreviewIndex}},watch:{"item.id":function(e){var t=this;e&&(this.showBrandedItem=!1,this.hasPreviewLoaded=!1,this.$nextTick((function(){t.showBrandedItem=!0})))},showBrandedItem:function(e){this.$nuxt.$emit("show-branded-item-changed",e)},isLoading:function(e){this.$nuxt.$emit("copy-asset-loading",e)},isCopied:function(e){this.$nuxt.$emit("copied-asset",e)}},mounted:function(){this.$nuxt.$on("copy-file",this.onCopy)},methods:{resizedUrl:x.a,generateSrcSetPx:_.c,generateMultipleFormats:_.a,calculateWatermarkHeight:function(e,t,n){var r=1500;return e<1500&&t<r?r=t:e>t&&(r=Math.round(1500*t/e)),101*n/r},onCopy:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.handleDownload({name:"pdp-preview",action:"copy",canBranded:e.canBranded,extraTrackingData:{format:e.copyableFormat}},{openPricingInNewTab:!0})){t.next=10;break}if(e.isLoading=!0,!e.show360Preview){t.next=6;break}e.$nuxt.$emit("download-3d-360",{name:e.item.name,size:{width:1e3},format:"png",download:!1},function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(n){var r,o,l,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.preDownload({format:e.copyableFormat,canBeBranded:!0,url:!0,nuxtLoader:!1,location:"pdp-purchase",action:"copy",d3base64String:n});case 2:for(r=n.replace(/^data:image\/png;base64,/,""),o=atob(r),l=new Uint8Array(o.length),i=0;i<o.length;i++)l[i]=o.charCodeAt(i);c=new Blob([l],{type:"image/png"}),e.dataToCopy=[new ClipboardItem({"image/png":c})],document.hasFocus()?e.copyToClipboard():window.addEventListener("focus",e.copyToClipboard);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=10;break;case 6:return t.next=8,e.preDownload({format:e.copyableFormat,canBeBranded:!0,downloadUrl:!0,nuxtLoader:!1,location:"pdp-purchase",action:"copy"});case 8:if(n=t.sent)if("svg"===e.copyableFormat)if("lottie"===e.item.asset)try{e.isCopied=!0,(r=(new DOMParser).parseFromString(e.$refs.lottieBrandPreview.player.snapshot(!1),"text/xml")).getElementsByTagName("svg")[0].setAttribute("id",e.item.name),m()((new XMLSerializer).serializeToString(r)),setTimeout((function(){e.isCopied=!1}),5e3)}catch(t){console.error(t),e.toastMessage("Failed to copy file")}finally{e.isLoading=!1}else fetch(n).then((function(e){return e.text()})).then((function(t){m()(t),e.isCopied=!0,setTimeout((function(){e.isCopied=!1}),5e3)})).catch((function(t){console.error(t),e.toastMessage("Failed to copy file")})).finally((function(){e.isLoading=!1}));else fetch(e.hasMultiplePreview?e.previews[e.selectedPreviewIndex].thumb:e.item.urls.thumb).then((function(e){return e.blob()})).then((function(t){var n;e.dataToCopy=[new ClipboardItem((n={},n[t.type]=t,n))],document.hasFocus()?e.copyToClipboard():window.addEventListener("focus",e.copyToClipboard)})).catch((function(t){console.error(t),e.toastMessage("Failed to copy file"),e.isLoading=!1}));else e.isLoading=!1,o="Failed to fetch URL",console.error(o),e.toastMessage(o);case 10:case"end":return t.stop()}}),t)})))()},copyToClipboard:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.write(e.dataToCopy);case 3:e.dataToCopy=null,e.isCopied=!0,setTimeout((function(){e.isCopied=!1}),3e3),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Failed to copy file: ",t.t0),e.toastMessage("Failed to copy file");case 12:return t.prev=12,e.isLoading=!1,window.removeEventListener("focus",e.copyToClipboard),t.finish(12);case 16:case"end":return t.stop()}}),t,null,[[0,8,12,16]])})))()},toastMessage:function(title){this.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"})},onLoad:function(e){var t=null;this.$refs.thumbVideo&&(t=this.$refs.thumbVideo.currentTime),t&&this.$refs.mainVideo&&(this.$refs.mainVideo.currentTime=t+.05),this.hasPreviewLoaded=!0,this.previewType=this.hasMultiplePreview&&this.previews[this.selectedPreviewIndex].isCuratedMockup?"mockup":"normal"},onLargePreview:function(){this.$modal.open({id:"modalItemPreviewFs",component:n.e(449).then(n.bind(null,4386)),props:{item:this.item,currentPreviewUrl:this.currentPreviewUrl},options:{modalOnModal:!0}})},load360View:function(){var e=this;this.handleAuth({trackAuth:function(){return e.trackLoad360("auth")}})&&(this.trackLoad360("default"),this.hasPreviewLoaded=!1,this.$emit("update:show360Preview",!0))},trackLoad360:function(e){this.$analytics.track("pdp-preview",{route_path:this.$route.path,route_name:this.$route.name,location:"bottom-left",action:"view-in-360",data:W({postAction:e},Object(y.a)(this,{item:this.item,canBranded:this.canBranded}))})},exit360View:function(){this.$analytics.track("pdp-preview",{route_path:this.$route.path,route_name:this.$route.name,location:"bottom-center",action:"exit-360-view",data:W({},Object(y.a)(this,{item:this.item,canBranded:this.canBranded}))}),this.$emit("update:show360Preview",!1)},selectedPreviewIndexChanged:function(e){this.$nuxt.$emit("selected-preview-index-changed",e),this.selectedPreviewIndex=e}}},R=T,V=n(5570);var H=Object(D.a)(R,(function(){var e,t,r,o,c,d,h,f=this,m=f._self._c;return m("div",{class:["d-flex justify-content-center",f.item&&"lottie"===f.item.asset?f.$style.responsivePosition:null,f.$style.container]},[f.item.additional_informations&&f.item.additional_informations.iconscout_exclusive?m("div",{class:f.$style.badges,attrs:{"data-balloon":f.$t("common.iconscout_exclusive"),"data-balloon-pos":"right"}},[m("img",{attrs:{src:n(2926),alt:f.$t("common.iconscout_exclusive"),height:"64"}})]):f.item.featured?m("div",{class:f.$style.badges,attrs:{"data-balloon":f.$tc("common.featured_asset"),"data-balloon-pos":"right"}},[m("img",{attrs:{src:n(1498),alt:f.$tc("common.featured_asset"),height:"64"}})]):f._e(),f._v(" "),m("div",{class:[f.$style.previewContainer,f.item.additional_informations&&"dark"===f.item.additional_informations.background_type?f.$style.darkBg:null,"lottie"!==f.item.asset?"overflow-hidden":null,f.hasMultiplePreview?"mb-8":null]},["lottie"===f.item.asset?[f.showBrandedItem&&f.isLoggedIn&&f.item.urls.original&&null!==(e=f.item.urls.original)&&void 0!==e&&e.includes(".json")&&0===f.selectedPreviewIndex?m("lottie-brand-preview",{ref:"lottieBrandPreview",class:["position-relative",f.$style.lottie,f.showWatermark?f.$style.watermark:null],attrs:{item:f.item,"has-custom-controls":!0}}):[m("video",{directives:[{name:"show",rawName:"v-show",value:f.hasPreviewLoaded,expression:"hasPreviewLoaded"}],ref:"mainVideo",attrs:{src:f.resizedUrl({url:f.item.urls.preview}),autoplay:"",muted:"",loop:"",playsinline:"",type:"video/mp4"},domProps:{muted:!0},on:{click:f.onLargePreview,canplay:f.onLoad}}),f._v(" "),f.hasPreviewLoaded?f._e():m("video",{ref:"thumbVideo",attrs:{src:f.resizedUrl({url:f.currentThumbUrl}),autoplay:"",muted:"",loop:"",height:"800",playsinline:"",type:"video/mp4"},domProps:{muted:!0},on:{click:f.onLargePreview}}),f._v(" "),m("img",{class:f.$style.fullScreen,attrs:{src:n(3136),alt:f.$t("common.full_screen")}})]]:[f.showBrandedItem&&f.isLoggedIn&&"illustration"===f.item.asset&&null!==(t=f.item.urls.svg)&&void 0!==t&&t.includes(".svg")&&0===f.selectedPreviewIndex?m("svg-brand-preview",{class:[f.showWatermark?f.$style.watermark:null],attrs:{item:f.item,size:550},on:{disableBrandedPreview:function(e){f.showBrandedItem=!1},updatePreview:function(e){return f.$emit("updatePreview",e)}}}):f.canShow360Preview&&f.show360Preview?m("div",{staticClass:"d-flex w-100 h-100 pt-6 pb-9"},[m("D3Preview",{class:[f.showWatermark?f.$style.watermark:null],attrs:{src:f.item.urls["compressed-glb"]||f.item.urls.glb||f.item.urls.gltf,"fallback-src":f.item.urls.glb||f.item.urls.gltf,"has-preview-loaded":f.hasPreviewLoaded},on:{"update:hasPreviewLoaded":function(e){f.hasPreviewLoaded=e},"update:has-preview-loaded":function(e){f.hasPreviewLoaded=e}}})],1):[m("picture",{directives:[{name:"show",rawName:"v-show",value:f.hasPreviewLoaded,expression:"hasPreviewLoaded"}],class:f.previewPictureClass,on:{click:f.onLargePreview}},[m("source",f._b({},"source",f.generateMultipleFormats({url:f.currentPreviewUrl,h:700}),!1)),f._v(" "),m("img",f._b({attrs:{alt:0===f.selectedPreviewIndex?f.name:"".concat(f.name,"-preview-").concat(f.selectedPreviewIndex)},on:{load:f.onLoad}},"img",l(l({},f.generateSrcSetPx({url:f.currentPreviewUrl,h:700,format:"webp"})),f.guestPreviewAttrs),!1))]),f._v(" "),f.hasPreviewLoaded?f._e():m("picture",{class:f.previewPictureClass},[m("source",f._b({},"source",f.generateMultipleFormats({url:f.currentThumbUrl}),!1)),f._v(" "),m("img",f._b({attrs:{alt:0===f.selectedPreviewIndex?f.name:"".concat(f.name,"-preview-").concat(f.selectedPreviewIndex),width:f.guestPreviewAttrs.width,height:f.guestPreviewAttrs.height}},"img",f.generateSrcSetPx({url:f.currentPreviewUrl,h:700,format:"webp"}),!1))]),f._v(" "),m("img",{class:f.$style.fullScreen,attrs:{src:n(3136),alt:"Full Screen"}})]]],2),f._v(" "),f.item.additional_informations.verified_gltf&&f.canShow360Preview&&!f.show360Preview?m("div",{class:f.$style.D3Preview},[m("button",{staticClass:"btn btn-icon btn-default",attrs:{"data-balloon":"View in 360°","data-balloon-pos":"right","data-balloon-length":"medium",type:"button"},on:{click:f.load360View}},[m("uil-eye")],1),f._v(" "),m("new-badge",{class:f.$style.newBadge})],1):f._e(),f._v(" "),f.show360Preview?m("button",{class:["btn btn-default has-icon",f.$style.close360ViewBtn],attrs:{"data-balloon":"Exit 360° view","data-balloon-pos":"up","data-balloon-length":"medium",type:"button"},on:{click:f.exit360View}},[m("uil-times",{staticClass:"mr-2-5"}),f._v("\n    Exit 360° view\n  ")],1):f.hasMultiplePreview?m("div",{class:["mt-3",f.$style.multiplePreview]},[m("multiple-preview",{attrs:{asset:f.item.asset,previews:f.previews,item:f.item,"selected-preview-index":f.selectedPreviewIndex},on:{"change-preview":f.selectedPreviewIndexChanged}})],1):f._e(),f._v(" "),"3d"===f.item.asset&&f.canShow360Preview&&f.show360Preview&&f.hasPreviewLoaded&&(f.item.urls["compressed-glb"]||f.item.urls.glb||f.item.urls.gltf)||"illustration"===f.item.asset&&f.showBrandedItem&&(f.item.formats&&f.item.formats.length&&f.item.formats.map((function(e){return e.name})).includes("svg")||null!==(r=f.item.urls.svg)&&void 0!==r&&r.includes(".svg"))||"lottie"===f.item.asset&&(f.item.formats&&f.item.formats.length&&f.item.formats.map((function(e){return e.name})).includes("json")||null!==(o=f.item.urls.original)&&void 0!==o&&o.includes(".json"))?m("div",{class:[f.$style.brandColor,(c={},c[f.$style.hasEditorBtn]=f.hasEditorBtn,c)]},[m("brand-palette-button",{attrs:{enable:f.isLoggedIn&&("illustration"===f.item.asset&&(null===(d=f.item.urls.svg)||void 0===d?void 0:d.includes(".svg"))||"lottie"===f.item.asset&&(null===(h=f.item.urls.original)||void 0===h?void 0:h.includes(".json"))),"brand-client":f.brandClient,reduced:"","tooltip-position":"up-left",params:{slug:f.item.slug,asset:f.item.asset,query:f.item.tags.length>0?f.item.tags[0].slug:null}}})],1):f._e()])}),[],!1,(function(e){this.$style=V.default.locals||V.default}),null,null);t.default=H.exports}}]);
